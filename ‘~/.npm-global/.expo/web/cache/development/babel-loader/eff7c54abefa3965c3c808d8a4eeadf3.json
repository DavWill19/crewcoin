{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { NativeBaseProvider, PresenceTransition, Box, Input, Heading, Divider, Stack, HStack, Text, VStack, Center, Button } from 'native-base';\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport prizes from \"./sample\";\nimport { useContext, useEffect, useMemo, useCallback, useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nimport * as ImageManipulator from 'expo-image-manipulator';\nimport * as MediaLibrary from 'expo-media-library';\nimport firebaseConfig from \"../firebaseConfig.tsx\";\nimport { initializeApp } from \"firebase/app\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { getStorage, ref, uploadBytes, getDownloadURL, deleteObject } from \"firebase/storage\";\nimport moment from \"moment\";\nimport * as SecureStore from 'expo-secure-store';\nimport { useNavigation } from '@react-navigation/native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\ninitializeApp(firebaseConfig);\nexport default function TabThreeScreen() {\n  var _useContext = useContext(UserContext),\n    value = _useContext.value,\n    setValue = _useContext.setValue;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    prizesData = _useState2[0],\n    setPrizes = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    userData = _useState6[0],\n    setUser = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    adminPushToken = _useState8[0],\n    setAdmin = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    token = _useState10[0],\n    setToken = _useState10[1];\n  var navigation = useNavigation();\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    balanceData = _useState12[0],\n    setBalance = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    refreshing = _useState14[0],\n    setRefreshing = _useState14[1];\n  var wait = function wait(timeout) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, timeout);\n    });\n  };\n  var onRefresh = useCallback(function () {\n    setRefreshing(true);\n    wait(100).then(function () {\n      return setRefreshing(false);\n    }, fetch(\"https://crewcoinserver.vercel.app/store/\" + value.portalId, {\n      method: \"GET\",\n      headers: {\n        authorization: \"bearer \" + token,\n        credentials: \"same-origin\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        mode: \"cors\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res.success) {\n        if (res.prizes.length === prizesData.length) {\n          return null;\n        } else {\n          setPrizes(res.prizes);\n        }\n      } else {\n        Alert.alert(\"Something went wrong\", \"Error\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    }));\n    if (value.newStoreItem) {\n      fetch(\"https://crewcoinserver.vercel.app/crewuser/alert/\" + value._id, {\n        method: \"PUT\",\n        headers: {\n          authorization: \"bearer \" + token,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        },\n        body: JSON.stringify({\n          \"newStoreItem\": false,\n          \"newTransaction\": value.newTransaction,\n          \"newAnnouncement\": value.newAnnouncement\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.success) {\n          setValue(res.crewuser);\n        } else {\n          Alert.alert(\"\" + err, \"Please check internet connection!\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n      }).catch(function (err) {\n        Alert.alert(\"Error\", \"Please login again\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n        navigation.navigate(\"Login\");\n      });\n    }\n  });\n  function getValueFor(_x) {\n    return _getValueFor.apply(this, arguments);\n  }\n  function _getValueFor() {\n    _getValueFor = _asyncToGenerator(function* (key) {\n      var result = yield SecureStore.getItemAsync(key);\n      if (result) {\n        setToken(result);\n      } else {\n        console.log('No values stored under that key.');\n      }\n    });\n    return _getValueFor.apply(this, arguments);\n  }\n  getValueFor('token');\n  var triggerPushNotificationHandler = function triggerPushNotificationHandler(token, title, body) {\n    fetch(\"https://exp.host/--/api/v2/push/send\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Accept-Encoding\": \"gzip,deflate\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        to: token,\n        title: title,\n        body: body\n      })\n    });\n  };\n  useEffect(function () {\n    setIsLoading(true);\n    Permissions.getAsync(Permissions.NOTIFICATIONS).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        return Permissions.askAsync(Permissions.NOTIFICATIONS);\n      }\n      return statusObj;\n    }).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        throw new Error(\"Permission not granted\");\n      }\n    }).catch(function (err) {\n      return null;\n    });\n\n    fetch(\"https://crewcoinserver.vercel.app/crewuser/\" + value.portalId, {\n      method: \"GET\",\n      headers: {\n        authorization: \"bearer \" + token,\n        credentials: \"same-origin\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        mode: \"cors\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res) {\n        if (res !== userData) {\n          setUser(res);\n          var self = res.filter(function (user) {\n            return user.username === value.username;\n          });\n          setValue(self[0]);\n          var admin = res.filter(function (user) {\n            return user.admin === true;\n          });\n          var adminPush = admin.map(function (el) {\n            return el.pushToken;\n          });\n          setAdmin(adminPush);\n          console.log(\"adminpush\", adminPush);\n        }\n        setIsLoading(false);\n      } else {\n        Alert.alert(\"Error\", \"Please check your internet connection\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n        setIsLoading(false);\n      }\n    }).catch(function (err) {\n      Alert.alert(\"Error\", \"Please login again\", [{\n        text: \"OK\",\n        onPress: function onPress() {\n          return console.log(\"OK Pressed\");\n        }\n      }]);\n      navigation.navigate(\"Login\");\n    });\n\n    if (value.newStoreItem) {\n      fetch(\"https://crewcoinserver.vercel.app/crewuser/alert/\" + value._id, {\n        method: \"PUT\",\n        headers: {\n          authorization: \"bearer \" + token,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        },\n        body: JSON.stringify({\n          \"newStoreItem\": false,\n          \"newTransaction\": value.newTransaction,\n          \"newAnnouncement\": value.newAnnouncement\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.success) {\n          setValue(res.crewuser);\n        } else {\n          Alert.alert(\"\" + err, \"Please check internet connection!\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n      }).catch(function (err) {\n        Alert.alert(\"Error\", \"Please login again\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n        navigation.navigate(\"Login\");\n      });\n    }\n  }, []);\n  function Spinner() {\n    if (isLoading) {\n      return _jsx(Image, {\n        alt: \"spinner\",\n        source: require(\"../assets/images/genericspinner.gif\"),\n        style: {\n          marginTop: \"-28%\",\n          width: '30%',\n          height: '20%',\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          zIndex: 20000000,\n          top: \"48%\",\n          resizeMode: \"contain\"\n        }\n      });\n    } else {\n      return null;\n    }\n  }\n  function Example() {\n    var _useState15 = useState({}),\n      _useState16 = _slicedToArray(_useState15, 2),\n      postData = _useState16[0],\n      setPost = _useState16[1];\n    var imageUrl = postData.imageUrl;\n    function handlePost(setPrizes) {\n      var user = userData.filter(function (el) {\n        return el.username !== value.username && el.pushToken.length > 0;\n      });\n      var usersPushtoken = user.map(function (el) {\n        return el.pushToken;\n      });\n      function coin(cost) {\n        if (cost > 1) {\n          return cost + \" Crew Coins\";\n        } else {\n          return cost + \" Crew Coin\";\n        }\n      }\n      if (!postData.title || !postData.description || !postData.imageUrl || !postData.cost || Number.isInteger(parseInt(postData.cost)) === false) {\n        Alert.alert(\"Please fill in all fields and add photo! Cost must be a number!\");\n      } else {\n        setIsLoading(true);\n        var imageName = value.portalId + \"_prize_\" + moment(new Date()).format(\"MMDDYYYYhmmssa\");\n        var storage = getStorage();\n        var uploadImage = function () {\n          var _ref = _asyncToGenerator(function* () {\n            var img = postData.imageUrl;\n            var response = yield fetch(postData.imageUrl);\n            var blob = yield response.blob();\n            uploadBytes(ref(storage, \"\" + imageName), blob);\n          });\n          return function uploadImage() {\n            return _ref.apply(this, arguments);\n          };\n        }();\n        uploadImage();\n        setTimeout(function () {\n          getDownloadURL(ref(storage, \"\" + imageName)).then(function (url) {\n            fetch(\"https://crewcoinserver.vercel.app/store\", {\n              method: \"POST\",\n              headers: {\n                authorization: \"bearer \" + token,\n                credentials: \"same-origin\",\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n                mode: \"cors\"\n              },\n              body: JSON.stringify({\n                \"title\": postData.title,\n                \"description\": postData.description,\n                \"image\": url,\n                \"portalId\": value.portalId,\n                \"cost\": postData.cost\n              })\n            }).then(function (res) {\n              return res.json();\n            }).then(function (res) {\n              if (res.success) {\n                triggerPushNotificationHandler(usersPushtoken, \"New Store Item!\", postData.title + \" Cost: \" + coin(postData.cost));\n                setPrizes(function (prizesData) {\n                  return [].concat(_toConsumableArray(prizesData), [res.store]);\n                });\n                Alert.alert(\"Success!\", res.store.title + \" has been posted!\", [{\n                  text: \"OK\",\n                  onPress: function onPress() {\n                    return console.log(\"OK Pressed\");\n                  }\n                }]);\n                setPost({\n                  title: \"\",\n                  description: \"\",\n                  imageUrl: \"\",\n                  cost: \"\"\n                });\n              } else {\n                Alert.alert(\"Something went wrong\", \"Error\", [{\n                  text: \"OK\",\n                  onPress: function onPress() {\n                    return console.log(\"OK Pressed\");\n                  }\n                }]);\n              }\n            }).catch(function (err) {\n              Alert.alert(\"Error\", \"Please check internet connection!\", [{\n                text: \"OK\",\n                onPress: function onPress() {\n                  return console.log(\"OK Pressed\");\n                }\n              }]);\n            });\n            setIsLoading(false);\n          }).catch(function (error) {\n            Alert.alert(\"Error\", \"Please login again\", [{\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]);\n            navigation.navigate(\"Login\");\n          });\n        }, 3000);\n      }\n    }\n    var getImageFromCamera = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var cameraPermission = yield Permissions.askAsync(Permissions.CAMERA);\n        var cameraRollPermission = yield Permissions.askAsync(Permissions.CAMERA_ROLL);\n        if (cameraPermission.status === 'granted' && cameraRollPermission.status === 'granted') {\n          var capturedImage = yield ImagePicker.launchCameraAsync({\n            allowsEditing: true,\n            aspect: [1, 1]\n          });\n          if (!capturedImage.cancelled) {\n            processImage(capturedImage.uri);\n            MediaLibrary.createAssetAsync(capturedImage.uri);\n          }\n        }\n      });\n      return function getImageFromCamera() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var getImageFromGallery = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        var cameraPermission = yield Permissions.askAsync(Permissions.CAMERA);\n        var cameraRollPermission = yield Permissions.askAsync(Permissions.CAMERA_ROLL);\n        if (cameraPermission.status === 'granted' && cameraRollPermission.status === 'granted') {\n          var capturedImage = yield ImagePicker.launchImageLibraryAsync({\n            allowsEditing: true,\n            aspect: [1, 1]\n          });\n          if (!capturedImage.cancelled) {\n            processImage(capturedImage.uri);\n          }\n        }\n      });\n      return function getImageFromGallery() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var processImage = function () {\n      var _ref4 = _asyncToGenerator(function* (imgUri) {\n        var processedImage = yield ImageManipulator.manipulateAsync(imgUri, [{\n          resize: {\n            width: 400\n          }\n        }], {\n          format: ImageManipulator.SaveFormat.PNG\n        });\n        setPost(_objectSpread(_objectSpread({}, postData), {}, {\n          imageUrl: processedImage.uri,\n          image: processedImage\n        }));\n      });\n      return function processImage(_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    if (value.admin) {\n      function TempImage() {\n        if (imageUrl) {\n          return _jsxs(View, {\n            children: [_jsx(TouchableOpacity, {\n              style: {\n                zIndex: 999,\n                marginTop: 6,\n                marginBottom: -31\n              },\n              onPress: function onPress() {\n                setPost(_objectSpread(_objectSpread({}, postData), {}, {\n                  imageUrl: \"\",\n                  image: \"\"\n                }));\n              },\n              children: _jsx(Text, {\n                shadow: 9,\n                style: {\n                  color: \"white\",\n                  fontSize: 24,\n                  marginLeft: 270,\n                  zIndex: 999,\n                  border: 1,\n                  borderRadius: \"10%\"\n                },\n                children: _jsx(Ionicons, {\n                  name: \"md-close-circle\",\n                  size: 20,\n                  color: \"white\"\n                })\n              })\n            }), _jsx(Image, {\n              alt: \"temp\",\n              shadow: 9,\n              style: {\n                width: 300,\n                height: 300,\n                borderRadius: 5\n              },\n              source: {\n                uri: imageUrl\n              },\n              resizeMode: \"contain\"\n            })]\n          });\n        } else {\n          return null;\n        }\n      }\n      var memoizedTempImage = useMemo(TempImage);\n      return _jsx(_Fragment, {\n        children: _jsx(PresenceTransition, {\n          visible: true,\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1,\n            transition: {\n              duration: 2500\n            }\n          },\n          children: _jsx(Box, {\n            shadow: 2,\n            mt: \"2\",\n            mb: \"2\",\n            pt: \"2\",\n            style: styles.image2,\n            maxW: \"360\",\n            rounded: \"lg\",\n            overflow: \"hidden\",\n            borderColor: \"gray.300\",\n            borderWidth: \"1\",\n            _dark: {\n              borderColor: \"gray.900\",\n              backgroundColor: \"gray.900\"\n            },\n            _web: {\n              shadow: 2,\n              borderWidth: 1\n            },\n            _light: {\n              backgroundColor: \"gray.50\"\n            },\n            children: _jsxs(Stack, {\n              w: \"100%\",\n              p: \"4\",\n              space: 3,\n              children: [_jsxs(HStack, {\n                alignItems: \"center\",\n                children: [_jsx(Heading, {\n                  size: \"md\",\n                  ml: \"-1\",\n                  children: \"Add New Store Item\"\n                }), _jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    getImageFromCamera();\n                  },\n                  children: _jsx(Image, {\n                    mt: \"4\",\n                    style: styles.image3,\n                    source: require(\"../assets/images/camera1.png\"),\n                    resizeMode: \"contain\"\n                  })\n                }), _jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    getImageFromGallery();\n                  },\n                  children: _jsx(Image, {\n                    mt: \"4\",\n                    style: styles.image4,\n                    source: require(\"../assets/images/camera.png\"),\n                    resizeMode: \"contain\"\n                  })\n                })]\n              }), _jsx(Center, {\n                children: memoizedTempImage\n              }), _jsx(Input, {\n                value: postData.title,\n                onChangeText: function onChangeText(value) {\n                  return setPost(_objectSpread(_objectSpread({}, postData), {}, {\n                    title: value\n                  }));\n                },\n                placeholder: \"Title\"\n              }), _jsx(Input, {\n                value: postData.description,\n                onChangeText: function onChangeText(value) {\n                  return setPost(_objectSpread(_objectSpread({}, postData), {}, {\n                    description: value\n                  }));\n                },\n                placeholder: \"Description\"\n              }), _jsx(Input, {\n                value: postData.cost,\n                onChangeText: function onChangeText(value) {\n                  return setPost(_objectSpread(_objectSpread({}, postData), {}, {\n                    cost: value\n                  }));\n                },\n                placeholder: \"Price\"\n              }), _jsx(Button, {\n                shadow: 3,\n                onPress: function onPress() {\n                  handlePost(setPrizes);\n                },\n                children: \" Post New Item\"\n              })]\n            })\n          })\n        })\n      });\n    } else {\n      return null;\n    }\n  }\n  var Prizes = function Prizes() {\n    var _useContext2 = useContext(UserContext),\n      value = _useContext2.value,\n      setValue = _useContext2.setValue;\n    var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      prizesData = _useState18[0],\n      setPrizes = _useState18[1];\n    useEffect(function () {\n      fetch(\"https://crewcoinserver.vercel.app/store/\" + value.portalId, {\n        method: \"GET\",\n        headers: {\n          authorization: \"bearer \" + token,\n          credentials: \"same-origin\",\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.success) {\n          if (res.prizes.length === prizesData.length) {\n            return null;\n          } else {\n            setPrizes(res.prizes);\n          }\n        } else {\n          Alert.alert(\"Something went wrong\", \"Error\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n      }).catch(function (err) {\n        console.log(err);\n        Alert.alert(\"Error\", \"Please check internet connection! You may need to login again\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n      });\n    }, []);\n    var prizes = prizesData.sort(function (a, b) {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    });\n    function postImage(prizes) {\n      if (prizes.image) {\n        return _jsx(Image, {\n          borderColor: \"gray.200\",\n          shadow: 9,\n          width: 300,\n          alt: prizes.createdAt,\n          source: {\n            uri: prizes.image\n          },\n          style: {\n            width: 300,\n            height: 300,\n            borderRadius: 5,\n            resizeMode: 'contain'\n          }\n        });\n      } else {\n        return null;\n      }\n    }\n    function deleteButton(prize) {\n      if (value.admin) {\n        return _jsx(Button, {\n          colorScheme: \"rose\",\n          mb: \"2\",\n          onPress: function onPress() {\n            Alert.alert(\"Remove Prize\", \"Are you sure you want to remove this prize?\", [{\n              text: \"Cancel\",\n              onPress: function onPress() {\n                return console.log(\"Cancel Pressed\");\n              },\n              style: \"cancel\"\n            }, {\n              text: \"OK\",\n              onPress: function onPress() {\n                deletePrize(prize);\n              }\n            }], {\n              cancelable: false\n            });\n          },\n          children: \"Remove Item\"\n        });\n      } else {\n        return null;\n      }\n    }\n    function buyButton(prize) {\n      var amount = value.balance - prize.cost;\n      function purchasePrize(prize) {\n        if (value.balance >= prize.cost) {\n          setIsLoading(true);\n          fetch(\"https://crewcoinserver.vercel.app/crewuser/\" + value._id, {\n            method: \"PUT\",\n            headers: {\n              authorization: \"bearer \" + token,\n              credentials: \"same-origin\",\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              mode: \"cors\"\n            },\n            body: JSON.stringify({\n              \"email\": value.username,\n              \"cost\": prize.cost,\n              \"name\": value.firstname + \" \" + value.lastname,\n              \"balance\": amount,\n              \"purchase\": true,\n              \"portalId\": value.portalId,\n              \"history\": {\n                \"date\": new Date(),\n                \"action\": \"Purchased \" + prize.title + \" for\",\n                \"balance\": amount,\n                \"userEmail\": value.username,\n                \"prize\": prize,\n                \"who\": \"\",\n                \"amount\": prize.cost,\n                \"comments\": \"Congratulations on your purchase!\"\n              }\n            })\n          }).then(function (res) {\n            return res.json();\n          }).then(function (res) {\n            if (res.success) {\n              triggerPushNotificationHandler(adminPushToken, \"New Purchase from \" + value.firstname + \" \" + value.lastname + \"!\", prize.title + \" Cost: \" + coin(prize.cost));\n              var balance = res.crewuser.balance - prize.cost;\n              setValue(_objectSpread(_objectSpread({}, value), {}, {\n                balance: balance\n              }));\n              setIsLoading(false);\n              Alert.alert(prize.title + \" purchased!\", \"Please see your manager for further details\", [{\n                text: \"OK\",\n                onPress: function onPress() {\n                  console.log(\"OK Pressed\");\n                }\n              }], {\n                cancelable: false\n              });\n            } else {\n              Alert.alert(\"\" + err, \"Please check internet connection!\", [{\n                text: \"OK\",\n                onPress: function onPress() {\n                  return console.log(\"OK Pressed\");\n                }\n              }]);\n              setIsLoading(false);\n            }\n          }).catch(function (err) {\n            Alert.alert(\"Error\", \"Please login again\", [{\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]);\n            navigation.navigate(\"Login\");\n          });\n        } else {\n          Alert.alert(\"Insufficient Funds\", \"Current balance: \" + coin(value.balance) + \".\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              console.log(\"OK Pressed\");\n            }\n          }], {\n            cancelable: false\n          });\n        }\n      }\n      if (!value.admin) {\n        return _jsx(Button, {\n          mb: \"2\",\n          onPress: function onPress() {\n            Alert.alert(\"Purchase\", \"Are you sure you want to purchase this \" + prize.title + \"?\", [{\n              text: \"Cancel\",\n              onPress: function onPress() {\n                return console.log(\"Cancel Pressed\");\n              },\n              style: \"cancel\"\n            }, {\n              text: \"OK\",\n              onPress: function onPress() {\n                purchasePrize(prize);\n              }\n            }], {\n              cancelable: false\n            });\n          },\n          children: \"Buy Now\"\n        });\n      } else {\n        return null;\n      }\n    }\n    function deletePrize(prize) {\n      var storage = getStorage();\n      var prizeRef = ref(storage, prize.image);\n\n      deleteObject(prizeRef).then(function () {\n      }).catch(function (error) {\n      });\n\n      fetch(\"https://crewcoinserver.vercel.app/store/\" + prize._id, {\n        method: \"DELETE\",\n        headers: {\n          authorization: \"bearer \" + token,\n          credentials: \"same-origin\",\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        },\n        body: JSON.stringify({\n          \"prizeId\": prize._id\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.success) {\n          Alert.alert(\"Prize\", \"Deleted\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n          setPrizes(function (prizes) {\n            return prizes.filter(function (prize) {\n              return prize._id !== res.prizeId;\n            });\n          });\n          setValue(_objectSpread(_objectSpread({}, value), {}, {\n            store: res.store\n          }));\n        } else {\n          Alert.alert(\"Something went wrong\", \"Error\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n      }).catch(function (err) {\n        Alert.alert(\"Error\", \"Please login again\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n        navigation.navigate(\"Login\");\n      });\n    }\n    function coin(cost) {\n      if (cost > 1) {\n        return cost + \" Crew Coins\";\n      } else {\n        return cost + \" Crew Coin\";\n      }\n    }\n    return prizes.map(function (prize) {\n      return _jsx(PresenceTransition, {\n        visible: true,\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1,\n          transition: {\n            duration: 2050\n          }\n        },\n        children: _jsxs(Box, {\n          pt: \"5\",\n          shadow: 2,\n          style: styles.image5,\n          mb: \"2\",\n          maxW: \"360\",\n          rounded: \"lg\",\n          overflow: \"hidden\",\n          borderColor: \"gray.300\",\n          borderWidth: \"1\",\n          _dark: {\n            borderColor: \"gray.900\",\n            backgroundColor: \"gray.900\"\n          },\n          _web: {\n            shadow: 2,\n            borderWidth: 0\n          },\n          _light: {\n            backgroundColor: \"gray.50\"\n          },\n          children: [_jsx(Box, {\n            children: postImage(prize)\n          }), _jsxs(Stack, {\n            w: \"330\",\n            p: \"2\",\n            space: 3,\n            children: [_jsx(Stack, {\n              children: _jsx(Heading, {\n                fontSize: 16,\n                children: prize.title\n              })\n            }), _jsx(Divider, {}), _jsx(Text, {\n              fontWeight: \"400\",\n              fontSize: 14,\n              children: prize.description\n            }), _jsx(Divider, {}), _jsxs(HStack, {\n              alignItems: \"center\",\n              space: 2,\n              justifyContent: \"space-between\",\n              children: [_jsx(HStack, {\n                alignItems: \"center\",\n                children: _jsx(Text, {\n                  fontWeight: \"500\",\n                  color: \"amber.600\",\n                  _dark: {\n                    color: \"amber.600\"\n                  },\n                  fontWeight: \"600\",\n                  fontSize: 16,\n                  children: coin(prize.cost)\n                })\n              }), buyButton(prize), deleteButton(prize)]\n            })]\n          })]\n        })\n      });\n    });\n  };\n  return _jsx(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    behavior: \"height\",\n    enabled: true,\n    children: _jsxs(NativeBaseProvider, {\n      children: [_jsx(AppBar, {}), _jsxs(ImageBackground, {\n        imageStyle: {\n          opacity: 0.6\n        },\n        alt: \"bg\",\n        style: styles.image2,\n        source: require(\"../assets/images/splashbg2.png\"),\n        resizeMode: \"cover\",\n        children: [Spinner(), _jsxs(ScrollView, {\n          refreshControl: _jsx(RefreshControl, {\n            refreshing: refreshing,\n            onRefresh: onRefresh\n          }),\n          children: [_jsx(Example, {\n            prizes: prizes\n          }), _jsx(Prizes, {\n            prizes: prizes\n          })]\n        })]\n      }), _jsx(CardBalance, {})]\n    })\n  });\n}\nfunction AppBar() {\n  var _useContext3 = useContext(UserContext),\n    value = _useContext3.value,\n    setValue = _useContext3.setValue;\n  return _jsxs(_Fragment, {\n    children: [_jsx(Box, {\n      safeAreaTop: true,\n      backgroundColor: \"#f2f2f2\"\n    }), _jsxs(HStack, {\n      bg: \"amber.300\",\n      px: \"5\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      borderColor: \"gray.300\",\n      borderWidth: \"1\",\n      children: [_jsx(HStack, {\n        space: \"4\",\n        alignItems: \"center\",\n        children: _jsx(Image, {\n          style: styles.coin,\n          source: require(\"../assets/images/crewcoinlogo.png\")\n        })\n      }), _jsx(HStack, {\n        space: \"4\",\n        children: _jsx(Text, {\n          px: \"1\",\n          style: styles.icon,\n          children: value.firstname + \" \" + value.lastname\n        })\n      })]\n    })]\n  });\n}\nfunction CardBalance() {\n  var _useContext4 = useContext(UserContext),\n    value = _useContext4.value,\n    setValue = _useContext4.setValue;\n  function superUser(user, balance) {\n    if (user.superUser) {\n      return _jsx(Ionicons, {\n        name: \"infinite\",\n        color: \"black\",\n        size: 45,\n        style: {\n          marginTop: 5,\n          right: 256,\n          position: \"relative\"\n        }\n      });\n    } else {\n      return balance;\n    }\n  }\n  return _jsx(_Fragment, {\n    children: _jsx(VStack, {\n      borderColor: \"amber.400\",\n      borderWidth: \"1\",\n      space: \"2\",\n      bg: \"amber.300\",\n      px: \"2\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: _jsx(Center, {\n        children: _jsxs(HStack, {\n          children: [_jsx(Image, {\n            style: styles.coinbalance,\n            source: require(\"../assets/images/coinbalance.png\")\n          }), _jsx(Text, {\n            bold: true,\n            style: styles.icon2,\n            children: superUser(value, value.balance)\n          })]\n        })\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  gif: {\n    width: 80,\n    height: 80,\n    marginTop: -30,\n    marginLeft: -30\n  },\n  icon2: {\n    color: 'black',\n    fontSize: 41,\n    paddingTop: 23,\n    marginTop: 6,\n    opacity: 0.9,\n    fontFamily: 'System'\n  },\n  coin: {\n    width: 200,\n    resizeMode: 'contain',\n    height: 50,\n    marginLeft: -32\n  },\n  coingif: {\n    size: '100%'\n  },\n  coingif: {\n    width: 10\n  },\n  coinbalance: {\n    zIndex: 2,\n    resizeMode: 'contain',\n    width: 210,\n    marginTop: -90,\n    marginBottom: -110\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%',\n    resizeMode: 'cover'\n  },\n  image2: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%',\n    marginBottom: 20,\n    marginBottom: 5\n  },\n  image3: {\n    width: 45,\n    resizeMode: 'contain',\n    marginBottom: -85,\n    marginTop: -90,\n    marginLeft: 35\n  },\n  image4: {\n    width: 51,\n    resizeMode: 'contain',\n    marginBottom: -85,\n    marginTop: -90,\n    marginLeft: 10\n  },\n  image5: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 450,\n    resizeMode: 'cover'\n  },\n  title: {\n    width: 400,\n    resizeMode: 'cover',\n    marginTop: -100,\n    marginBottom: -100,\n    margin: -100\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff'\n  },\n  BalanceBar: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    borderTopLeftRadius: 60,\n    borderTopRightRadius: 60\n  },\n  center: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  coin2: {\n    width: 80,\n    height: 50\n  }\n});","map":{"version":3,"names":["NativeBaseProvider","PresenceTransition","Box","Input","Heading","Divider","Stack","HStack","Text","VStack","Center","Button","ScrollView","prizes","useContext","useEffect","useMemo","useCallback","useState","UserContext","ImagePicker","Permissions","ImageManipulator","MediaLibrary","firebaseConfig","initializeApp","useIsFocused","getStorage","ref","uploadBytes","getDownloadURL","deleteObject","moment","SecureStore","useNavigation","Ionicons","TabThreeScreen","value","setValue","prizesData","setPrizes","isLoading","setIsLoading","userData","setUser","adminPushToken","setAdmin","token","setToken","navigation","balanceData","setBalance","refreshing","setRefreshing","wait","timeout","Promise","resolve","setTimeout","onRefresh","then","fetch","portalId","method","headers","authorization","credentials","Accept","mode","res","json","success","length","Alert","alert","text","onPress","console","log","catch","err","newStoreItem","_id","body","JSON","stringify","newTransaction","newAnnouncement","crewuser","navigate","getValueFor","key","result","getItemAsync","triggerPushNotificationHandler","title","to","getAsync","NOTIFICATIONS","statusObj","status","askAsync","Error","self","filter","user","username","admin","adminPush","map","el","pushToken","Spinner","require","marginTop","width","height","justifyContent","alignItems","zIndex","top","resizeMode","Example","postData","setPost","imageUrl","handlePost","usersPushtoken","coin","cost","description","Number","isInteger","parseInt","imageName","Date","format","storage","uploadImage","img","response","blob","url","store","error","getImageFromCamera","cameraPermission","CAMERA","cameraRollPermission","CAMERA_ROLL","capturedImage","launchCameraAsync","allowsEditing","aspect","cancelled","processImage","uri","createAssetAsync","getImageFromGallery","launchImageLibraryAsync","imgUri","processedImage","manipulateAsync","resize","SaveFormat","PNG","image","TempImage","marginBottom","color","fontSize","marginLeft","border","borderRadius","memoizedTempImage","opacity","transition","duration","styles","image2","borderColor","backgroundColor","shadow","borderWidth","image3","image4","Prizes","sort","a","b","createdAt","postImage","deleteButton","prize","style","deletePrize","cancelable","buyButton","amount","balance","purchasePrize","firstname","lastname","prizeRef","prizeId","image5","flex","AppBar","icon","CardBalance","superUser","right","position","coinbalance","icon2","StyleSheet","create","container","fontWeight","gif","paddingTop","fontFamily","coingif","size","margin","header","BalanceBar","bottom","left","borderTopLeftRadius","borderTopRightRadius","center","coin2"],"sources":["C:/Users/DavidWIlliams/Desktop/crewCoin/screens/TabThreeScreen.js"],"sourcesContent":["import { StyleSheet, View, ImageBackground, Image, TouchableOpacity, Alert, KeyboardAvoidingView, RefreshControl } from \"react-native\";\r\nimport { NativeBaseProvider, PresenceTransition, Box, Input, Heading, Divider, Stack, HStack, Text, VStack, Center, Button } from 'native-base';\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport prizes from './sample';\r\nimport { useContext, useEffect, useMemo, useCallback, useState } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport * as Permissions from 'expo-permissions';\r\nimport * as ImageManipulator from 'expo-image-manipulator';\r\nimport * as MediaLibrary from 'expo-media-library';\r\nimport firebaseConfig from \"../firebaseConfig.tsx\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { useIsFocused } from '@react-navigation/native';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, deleteObject } from \"firebase/storage\";\r\nimport moment from \"moment\";\r\nimport * as SecureStore from 'expo-secure-store';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\n\r\ninitializeApp(firebaseConfig);\r\n\r\nexport default function TabThreeScreen() {\r\n  const { value, setValue } = useContext(UserContext);\r\n  const [prizesData, setPrizes] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [userData, setUser] = useState([]);\r\n  const [adminPushToken, setAdmin] = useState([]);\r\n  const [token, setToken] = useState('');\r\n  const navigation = useNavigation();\r\n  const [balanceData, setBalance] = useState([]);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  const wait = (timeout) => {\r\n    return new Promise(resolve => setTimeout(resolve, timeout));\r\n  }\r\n\r\n\r\n  const onRefresh = useCallback(() => {\r\n    setRefreshing(true);\r\n    wait(100).then(() => setRefreshing(false),\r\n      fetch(`https://crewcoinserver.vercel.app/store/${value.portalId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          authorization: `bearer ${token}`,\r\n          credentials: \"same-origin\",\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          mode: \"cors\"\r\n        },\r\n      })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (res.success) {\r\n            if (res.prizes.length === prizesData.length) {\r\n              return null;\r\n            } else {\r\n              setPrizes(res.prizes);\r\n            }\r\n          } else {\r\n            Alert.alert(\r\n              \"Something went wrong\",\r\n              `Error`,\r\n              [\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            );\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        }\r\n        )\r\n\r\n    )\r\n    if (value.newStoreItem) {\r\n      fetch(`https://crewcoinserver.vercel.app/crewuser/alert/${value._id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          //bearer token\r\n          authorization: `bearer ${token}`,\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          mode: \"cors\"\r\n        },\r\n        body: JSON.stringify({\r\n          \"newStoreItem\": false,\r\n          \"newTransaction\": value.newTransaction,\r\n          \"newAnnouncement\": value.newAnnouncement,\r\n        }),\r\n      })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (res.success) {\r\n            setValue(res.crewuser);\r\n          } else {\r\n            Alert.alert(\r\n              `${err}`,\r\n              \"Please check internet connection!\",\r\n              [\r\n\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            )\r\n          }\r\n        })\r\n        .catch(err => {\r\n          Alert.alert(\r\n            \"Error\",\r\n            \"Please login again\",\r\n            [\r\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n            ]\r\n          )\r\n          navigation.navigate(\"Login\");\r\n        });\r\n    }\r\n\r\n  })\r\n\r\n\r\n\r\n  async function getValueFor(key) {\r\n    let result = await SecureStore.getItemAsync(key);\r\n    if (result) {\r\n      setToken(result);\r\n    } else {\r\n      console.log('No values stored under that key.');\r\n    }\r\n  }\r\n  getValueFor('token');\r\n\r\n  const triggerPushNotificationHandler = (token, title, body) => {\r\n    fetch(\"https://exp.host/--/api/v2/push/send\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Accept-Encoding\": \"gzip,deflate\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        to: token,\r\n        title,\r\n        body,\r\n      }),\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    // Permission for iOS\r\n    Permissions.getAsync(Permissions.NOTIFICATIONS)\r\n      .then(statusObj => {\r\n        // Check if we already have permission\r\n        if (statusObj.status !== \"granted\") {\r\n          // If permission is not there, ask for the same\r\n          return Permissions.askAsync(Permissions.NOTIFICATIONS)\r\n        }\r\n        return statusObj\r\n      })\r\n      .then(statusObj => {\r\n        // If permission is still not given throw error\r\n        if (statusObj.status !== \"granted\") {\r\n          throw new Error(\"Permission not granted\")\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return null\r\n      })\r\n\r\n    //fetch user data\r\n    fetch(`https://crewcoinserver.vercel.app/crewuser/${value.portalId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: `bearer ${token}`,\r\n        credentials: \"same-origin\",\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        mode: \"cors\"\r\n      },\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if (res) {\r\n          if (res !== userData) {\r\n            setUser(res);\r\n            let self = res.filter(user => user.username === value.username);\r\n            setValue(self[0]);\r\n            const admin = res.filter(user => user.admin === true)\r\n            const adminPush = admin.map(el => el.pushToken)\r\n            setAdmin(adminPush);\r\n            console.log(\"adminpush\", adminPush);\r\n          }\r\n          setIsLoading(false);\r\n        } else {\r\n          Alert.alert(\r\n            \"Error\",\r\n            \"Please check your internet connection\",\r\n            [\r\n\r\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n            ]\r\n          )\r\n          setIsLoading(false);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        Alert.alert(\r\n          \"Error\",\r\n          \"Please login again\",\r\n          [\r\n            { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n          ]\r\n        )\r\n        navigation.navigate(\"Login\");\r\n      }\r\n      );\r\n\r\n    // update alerts\r\n    if (value.newStoreItem) {\r\n      fetch(`https://crewcoinserver.vercel.app/crewuser/alert/${value._id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          //bearer token\r\n          authorization: `bearer ${token}`,\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          mode: \"cors\"\r\n        },\r\n        body: JSON.stringify({\r\n          \"newStoreItem\": false,\r\n          \"newTransaction\": value.newTransaction,\r\n          \"newAnnouncement\": value.newAnnouncement,\r\n        }),\r\n      })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (res.success) {\r\n            setValue(res.crewuser);\r\n          } else {\r\n            Alert.alert(\r\n              `${err}`,\r\n              \"Please check internet connection!\",\r\n              [\r\n\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            )\r\n          }\r\n        })\r\n        .catch(err => {\r\n          Alert.alert(\r\n            \"Error\",\r\n            \"Please login again\",\r\n            [\r\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n            ]\r\n          )\r\n          navigation.navigate(\"Login\");\r\n        });\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  function Spinner() {\r\n    if (isLoading) {\r\n      return (\r\n        <Image alt=\"spinner\" source={require('../assets/images/genericspinner.gif')}\r\n          style={{ marginTop: \"-28%\", width: '30%', height: '20%', justifyContent: \"center\", alignItems: \"center\", zIndex: 20000000, top: \"48%\", resizeMode: \"contain\" }} />\r\n      )\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  function Example() {\r\n    const [postData, setPost] = useState({});\r\n    const imageUrl = postData.imageUrl;\r\n\r\n    function handlePost(setPrizes) {\r\n      let user = userData.filter(el => el.username !== value.username && el.pushToken.length > 0);\r\n      let usersPushtoken = user.map(el => el.pushToken);\r\n\r\n      function coin(cost) {\r\n        if (cost > 1) {\r\n          return (\r\n            `${cost} Crew Coins`\r\n          )\r\n        } else {\r\n          return (\r\n            `${cost} Crew Coin`\r\n          )\r\n        }\r\n      }\r\n\r\n      if (!postData.title || !postData.description || !postData.imageUrl || !postData.cost || Number.isInteger(parseInt(postData.cost)) === false) {\r\n        Alert.alert(\"Please fill in all fields and add photo! Cost must be a number!\");\r\n      } else {\r\n        setIsLoading(true);\r\n        const imageName = `${value.portalId}_prize_${moment(new Date).format(\"MMDDYYYYhmmssa\")}`\r\n        const storage = getStorage();\r\n        const uploadImage = async () => {\r\n          const img = postData.imageUrl;\r\n          const response = await fetch(postData.imageUrl);\r\n          const blob = await response.blob();\r\n          uploadBytes(ref(storage, `${imageName}`), blob);\r\n        }\r\n        uploadImage();\r\n        setTimeout(() => {\r\n          getDownloadURL(ref(storage, `${imageName}`))\r\n            .then((url) => {\r\n              fetch(`https://crewcoinserver.vercel.app/store`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                  authorization: `bearer ${token}`,\r\n                  credentials: \"same-origin\",\r\n                  Accept: \"application/json\",\r\n                  \"Content-Type\": \"application/json\",\r\n                  mode: \"cors\"\r\n                },\r\n                body: JSON.stringify({\r\n                  \"title\": postData.title,\r\n                  \"description\": postData.description,\r\n                  \"image\": url,\r\n                  \"portalId\": value.portalId,\r\n                  \"cost\": postData.cost,\r\n                }),\r\n              })\r\n\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                  if (res.success) {\r\n                    triggerPushNotificationHandler(usersPushtoken, `New Store Item!`, `${postData.title} Cost: ${coin(postData.cost)}`);\r\n                    setPrizes(prizesData => [...prizesData, res.store])\r\n                    Alert.alert(\r\n                      \"Success!\",\r\n                      `${res.store.title} has been posted!`,\r\n                      [\r\n                        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                      ]\r\n                    );\r\n                    setPost({ title: \"\", description: \"\", imageUrl: \"\", cost: \"\" });\r\n                  } else {\r\n                    Alert.alert(\r\n                      \"Something went wrong\",\r\n                      `Error`,\r\n                      [\r\n                        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                      ]\r\n                    );\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  Alert.alert(\r\n                    `Error`,\r\n                    \"Please check internet connection!\",\r\n                    [\r\n\r\n                      { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                    ]\r\n                  )\r\n                }\r\n                );\r\n              setIsLoading(false);\r\n            })\r\n            .catch((error) => {\r\n              Alert.alert(\r\n                \"Error\",\r\n                \"Please login again\",\r\n                [\r\n                  { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                ]\r\n              )\r\n              navigation.navigate(\"Login\");\r\n            })\r\n        }, 3000);\r\n      }\r\n\r\n    }\r\n\r\n\r\n    let getImageFromCamera = async () => {\r\n      const cameraPermission = await Permissions.askAsync(Permissions.CAMERA);\r\n      const cameraRollPermission = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n\r\n      if (cameraPermission.status === 'granted' && cameraRollPermission.status === 'granted') {\r\n        const capturedImage = await ImagePicker.launchCameraAsync({\r\n          allowsEditing: true,\r\n          aspect: [1, 1]\r\n        });\r\n        if (!capturedImage.cancelled) {\r\n          processImage(capturedImage.uri);\r\n          MediaLibrary.createAssetAsync(capturedImage.uri);\r\n        }\r\n      }\r\n    }\r\n    let getImageFromGallery = async () => {\r\n      const cameraPermission = await Permissions.askAsync(Permissions.CAMERA);\r\n      const cameraRollPermission = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n\r\n      if (cameraPermission.status === 'granted' && cameraRollPermission.status === 'granted') {\r\n        const capturedImage = await ImagePicker.launchImageLibraryAsync({\r\n          allowsEditing: true,\r\n          aspect: [1, 1]\r\n        });\r\n        if (!capturedImage.cancelled) {\r\n          processImage(capturedImage.uri);\r\n        }\r\n      }\r\n    }\r\n    let processImage = async (imgUri) => {\r\n      const processedImage = await ImageManipulator.manipulateAsync(imgUri,\r\n        [{ resize: { width: 400 } }],\r\n        { format: ImageManipulator.SaveFormat.PNG }\r\n      );\r\n      setPost({ ...postData, imageUrl: processedImage.uri, image: processedImage });\r\n    }\r\n\r\n    if (value.admin) {\r\n      function TempImage() {\r\n        if (imageUrl) {\r\n          return (\r\n            <View>\r\n            <TouchableOpacity style={{ zIndex: 999, marginTop: 6, marginBottom: -31, }}\r\n            onPress={() => { setPost({...postData, imageUrl: \"\", image: \"\" }) }}\r\n            >\r\n            <Text shadow={9}  style={{color: \"white\", fontSize: 24, marginLeft: 270, zIndex: 999, border: 1, borderRadius: \"10%\" }}>\r\n            <Ionicons name=\"md-close-circle\" size={20} color=\"white\"/>\r\n            </Text>\r\n            </TouchableOpacity>\r\n              <Image alt=\"temp\" shadow={9} style={{ width: 300, height: 300, borderRadius: 5 }}\r\n                source={{ uri: imageUrl }} resizeMode=\"contain\" />\r\n            </View>\r\n          )\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n      const memoizedTempImage = useMemo(TempImage);\r\n\r\n\r\n      return (\r\n\r\n        <>\r\n          <PresenceTransition visible initial={{\r\n            opacity: 0\r\n          }} animate={{\r\n            opacity: 1,\r\n            transition: {\r\n              duration: 2500\r\n            }\r\n          }}>\r\n            <Box\r\n              shadow={2}\r\n              mt=\"2\"\r\n              mb=\"2\"\r\n              pt=\"2\"\r\n              style={styles.image2}\r\n              maxW=\"360\"\r\n              rounded=\"lg\"\r\n              overflow=\"hidden\"\r\n              borderColor=\"gray.300\"\r\n              borderWidth=\"1\"\r\n              _dark={{\r\n                borderColor: \"gray.900\",\r\n                backgroundColor: \"gray.900\",\r\n              }}\r\n              _web={{\r\n                shadow: 2,\r\n                borderWidth: 1,\r\n              }}\r\n              _light={{\r\n                backgroundColor: \"gray.50\",\r\n              }}\r\n            >\r\n              <Stack w=\"100%\" p=\"4\" space={3}>\r\n                <HStack alignItems=\"center\">\r\n                  <Heading size=\"md\" ml=\"-1\" >\r\n                    Add New Store Item\r\n                  </Heading>\r\n                  <TouchableOpacity onPress={() => { getImageFromCamera() }}>\r\n                    <Image mt=\"4\" style={styles.image3} source={require('../assets/images/camera1.png')} resizeMode=\"contain\" />\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity onPress={() => { getImageFromGallery() }}>\r\n                    <Image mt=\"4\" style={styles.image4} source={require('../assets/images/camera.png')} resizeMode=\"contain\" />\r\n                  </TouchableOpacity>\r\n                </HStack>\r\n                <Center>\r\n                  {memoizedTempImage}\r\n                </Center>\r\n                <Input value={postData.title} onChangeText={(value) => setPost({ ...postData, title: value })} placeholder=\"Title\" />\r\n                <Input value={postData.description} onChangeText={(value) => setPost({ ...postData, description: value })} placeholder=\"Description\" />\r\n                <Input value={postData.cost} onChangeText={(value) => setPost({ ...postData, cost: value })} placeholder=\"Price\" />\r\n\r\n                <Button shadow={3} onPress={() => { handlePost(setPrizes) }}> Post New Item</Button>\r\n              </Stack>\r\n            </Box>\r\n          </PresenceTransition>\r\n        </>\r\n      )\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const Prizes = () => {\r\n    const { value, setValue } = useContext(UserContext);\r\n    const [prizesData, setPrizes] = useState([]);\r\n    useEffect(() => {\r\n      fetch(`https://crewcoinserver.vercel.app/store/${value.portalId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          authorization: `bearer ${token}`,\r\n          credentials: \"same-origin\",\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          mode: \"cors\"\r\n        },\r\n      })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (res.success) {\r\n            if (res.prizes.length === prizesData.length) {\r\n              return null;\r\n            } else {\r\n              setPrizes(res.prizes);\r\n            }\r\n          } else {\r\n            Alert.alert(\r\n              \"Something went wrong\",\r\n              `Error`,\r\n              [\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            );\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          Alert.alert(\r\n            `Error`,\r\n            \"Please check internet connection! You may need to login again\",\r\n            [\r\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n            ]\r\n          )\r\n        }\r\n        );\r\n    }, []);\r\n\r\n    let prizes = prizesData.sort(function (a, b) {\r\n      // Turn your strings into dates, and then subtract them\r\n      // to get a value that is either negative, positive, or zero.\r\n      return new Date(b.createdAt) - new Date(a.createdAt);\r\n    });\r\n\r\n\r\n    function postImage(prizes) {\r\n      if (prizes.image) {\r\n        return (\r\n          <Image\r\n            borderColor=\"gray.200\"\r\n            shadow={9}\r\n            width={300}\r\n            alt={prizes.createdAt}\r\n            source={{ uri: prizes.image }}\r\n            style={{ width: 300, height: 300, borderRadius: 5, resizeMode: 'contain' }}\r\n          />\r\n        )\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    function deleteButton(prize) {\r\n      if (value.admin) {\r\n        return (\r\n          <Button colorScheme=\"rose\" mb=\"2\" onPress={() => {\r\n            Alert.alert(\r\n              \"Remove Prize\",\r\n              \"Are you sure you want to remove this prize?\",\r\n              [\r\n                {\r\n                  text: \"Cancel\",\r\n                  onPress: () => console.log(\"Cancel Pressed\"),\r\n                  style: \"cancel\"\r\n                },\r\n                {\r\n                  text: \"OK\", onPress: () => {\r\n                    deletePrize(prize)\r\n                  }\r\n                }\r\n              ],\r\n              { cancelable: false }\r\n            );\r\n          }}>Remove Item</Button>\r\n        )\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n    function buyButton(prize) {\r\n      const amount = value.balance - prize.cost;\r\n\r\n      function purchasePrize(prize) {\r\n        if (value.balance >= prize.cost) {\r\n          setIsLoading(true);\r\n\r\n          fetch(`https://crewcoinserver.vercel.app/crewuser/${value._id}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n              authorization: `bearer ${token}`,\r\n              credentials: \"same-origin\",\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              mode: \"cors\"\r\n            },\r\n            body: JSON.stringify({\r\n              \"email\": value.username,\r\n              \"cost\": prize.cost,\r\n              \"name\": `${value.firstname} ${value.lastname}`,\r\n              \"balance\": amount,\r\n              \"purchase\": true,\r\n              \"portalId\": value.portalId,\r\n              \"history\": {\r\n                \"date\": new Date(),\r\n                \"action\": `Purchased ${prize.title} for`,\r\n                \"balance\": amount,\r\n                \"userEmail\": value.username,\r\n                \"prize\": prize,\r\n                \"who\": \"\",\r\n                \"amount\": prize.cost,\r\n                \"comments\": \"Congratulations on your purchase!\"\r\n\r\n              }\r\n            }),\r\n          })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n              if (res.success) {\r\n                triggerPushNotificationHandler(\r\n                  adminPushToken,\r\n                  `New Purchase from ${value.firstname} ${value.lastname}!`,\r\n                  `${prize.title} Cost: ${coin(prize.cost)}`\r\n                );\r\n                const balance = res.crewuser.balance - prize.cost;\r\n                setValue({ ...value, balance: balance });\r\n                setIsLoading(false);\r\n                Alert.alert(\r\n                  `${prize.title} purchased!`,\r\n                  `Please see your manager for further details`,\r\n                  [\r\n                    {\r\n                      text: \"OK\", onPress: () => {\r\n                        console.log(\"OK Pressed\")\r\n                      }\r\n                    }\r\n                  ],\r\n                  { cancelable: false }\r\n                );\r\n              } else {\r\n                Alert.alert(\r\n                  `${err}`,\r\n                  \"Please check internet connection!\",\r\n                  [\r\n\r\n                    { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                  ]\r\n                )\r\n                setIsLoading(false);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              Alert.alert(\r\n                \"Error\",\r\n                \"Please login again\",\r\n                [\r\n                  { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                ]\r\n              )\r\n              navigation.navigate(\"Login\");\r\n            }\r\n            );\r\n        }\r\n        else {\r\n          Alert.alert(\r\n            `Insufficient Funds`,\r\n            `Current balance: ${coin(value.balance)}.`,\r\n            [\r\n              {\r\n                text: \"OK\", onPress: () => {\r\n                  console.log(\"OK Pressed\")\r\n                }\r\n              }\r\n            ],\r\n            { cancelable: false }\r\n          );\r\n        }\r\n      }\r\n      if (!value.admin) {\r\n        return (\r\n          <Button mb=\"2\" onPress={() => {\r\n            Alert.alert(\r\n              \"Purchase\",\r\n              `Are you sure you want to purchase this ${prize.title}?`,\r\n              [\r\n                {\r\n                  text: \"Cancel\",\r\n                  onPress: () => console.log(\"Cancel Pressed\"),\r\n                  style: \"cancel\"\r\n                },\r\n                {\r\n                  text: \"OK\", onPress: () => {\r\n                    purchasePrize(prize)\r\n                  }\r\n                }\r\n              ],\r\n              { cancelable: false }\r\n            );\r\n          }}>Buy Now</Button>\r\n        )\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    function deletePrize(prize) {\r\n      const storage = getStorage();\r\n      var prizeRef = ref(storage, prize.image);\r\n\r\n      // Delete the file\r\n      deleteObject(prizeRef).then(() => {\r\n        // File deleted successfully\r\n      }).catch((error) => {\r\n        // Uh-oh, an error occurred!\r\n      });\r\n\r\n      fetch(`https://crewcoinserver.vercel.app/store/${prize._id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          authorization: `bearer ${token}`,\r\n          credentials: \"same-origin\",\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          mode: \"cors\"\r\n        },\r\n        body: JSON.stringify({\r\n          \"prizeId\": prize._id\r\n        }),\r\n      })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          if (res.success) {\r\n            Alert.alert(\r\n              \"Prize\",\r\n              `Deleted`,\r\n              [\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            );\r\n            setPrizes(prizes => prizes.filter(prize => prize._id !== res.prizeId))\r\n            setValue({ ...value, store: res.store })\r\n          } else {\r\n            Alert.alert(\r\n              \"Something went wrong\",\r\n              `Error`,\r\n              [\r\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n              ]\r\n            );\r\n          }\r\n        })\r\n        .catch(err => {\r\n          Alert.alert(\r\n            \"Error\",\r\n            \"Please login again\",\r\n            [\r\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n            ]\r\n          )\r\n          navigation.navigate(\"Login\");\r\n        }\r\n        );\r\n    }\r\n    function coin(cost) {\r\n      if (cost > 1) {\r\n        return (\r\n          `${cost} Crew Coins`\r\n        )\r\n      } else {\r\n        return (\r\n          `${cost} Crew Coin`\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      prizes.map(prize => {\r\n        return (\r\n          <PresenceTransition visible initial={{\r\n            opacity: 0\r\n          }} animate={{\r\n            opacity: 1,\r\n            transition: {\r\n              duration: 2050\r\n            }\r\n          }}>\r\n            <Box\r\n              pt=\"5\"\r\n              shadow={2}\r\n              style={styles.image5}\r\n              mb=\"2\"\r\n              maxW=\"360\"\r\n              rounded=\"lg\"\r\n              overflow=\"hidden\"\r\n              borderColor=\"gray.300\"\r\n              borderWidth=\"1\"\r\n              _dark={{\r\n                borderColor: \"gray.900\",\r\n                backgroundColor: \"gray.900\",\r\n              }}\r\n              _web={{\r\n                shadow: 2,\r\n                borderWidth: 0,\r\n              }}\r\n              _light={{\r\n                backgroundColor: \"gray.50\",\r\n              }}\r\n            >\r\n              <Box>\r\n                {postImage(prize)}\r\n              </Box>\r\n              <Stack w=\"330\" p=\"2\" space={3}>\r\n                <Stack>\r\n\r\n                  <Heading fontSize={16}>\r\n                    {prize.title}\r\n                  </Heading>\r\n\r\n                </Stack>\r\n                <Divider />\r\n                <Text fontWeight=\"400\" fontSize={14}>\r\n                  {prize.description}\r\n                </Text>\r\n                <Divider />\r\n                <HStack alignItems=\"center\" space={2} justifyContent=\"space-between\">\r\n                  <HStack alignItems=\"center\">\r\n                    <Text\r\n                      fontWeight=\"500\"\r\n                      color=\"amber.600\"\r\n                      _dark={{\r\n                        color: \"amber.600\",\r\n                      }}\r\n                      fontWeight=\"600\"\r\n                      fontSize={16}\r\n                    >\r\n                      {coin(prize.cost)}\r\n                    </Text>\r\n                  </HStack>\r\n                  {buyButton(prize)}\r\n                  {deleteButton(prize)}\r\n                </HStack>\r\n              </Stack>\r\n            </Box>\r\n          </PresenceTransition>\r\n        )\r\n      })\r\n    )\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <KeyboardAvoidingView style={{ flex: 1 }} behavior=\"height\" enabled>\r\n      <NativeBaseProvider>\r\n        <AppBar />\r\n        <ImageBackground imageStyle=\r\n          {{ opacity: 0.6 }} alt=\"bg\" style={styles.image2} source={require('../assets/images/splashbg2.png')} resizeMode=\"cover\" >\r\n          {Spinner()}\r\n          <ScrollView\r\n            refreshControl={\r\n              <RefreshControl\r\n\r\n                refreshing={refreshing}\r\n                onRefresh={onRefresh}\r\n\r\n              />\r\n            }>\r\n            <Example prizes={prizes} />\r\n            <Prizes prizes={prizes} />\r\n          </ScrollView>\r\n        </ImageBackground>\r\n        <CardBalance />\r\n      </NativeBaseProvider>\r\n    </KeyboardAvoidingView>\r\n  );\r\n}\r\nfunction AppBar() {\r\n  const { value, setValue } = useContext(UserContext);\r\n  return (\r\n    <>\r\n      <Box safeAreaTop backgroundColor=\"#f2f2f2\" />\r\n\r\n      <HStack bg='amber.300' px=\"5\" justifyContent='space-between' alignItems='center' borderColor=\"gray.300\"\r\n        borderWidth=\"1\">\r\n        <HStack space=\"4\" alignItems='center'>\r\n          <Image style={styles.coin} source={require('../assets/images/crewcoinlogo.png')} />\r\n        </HStack>\r\n        <HStack space=\"4\">\r\n          <Text px=\"1\" style={styles.icon}>\r\n            {value.firstname + \" \" + value.lastname}\r\n          </Text>\r\n        </HStack>\r\n      </HStack>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nfunction CardBalance() {\r\n  const { value, setValue } = useContext(UserContext);\r\n\r\n  function superUser(user, balance) {\r\n    if (user.superUser) {\r\n      return (\r\n        <Ionicons name=\"infinite\" color=\"black\" size={45} style={{ marginTop: 5, right: 256, position: \"relative\" }} />\r\n\r\n      )\r\n    } else {\r\n      return balance\r\n    }\r\n  }\r\n  return (\r\n\r\n    <>\r\n      <VStack borderColor=\"amber.400\"\r\n        borderWidth=\"1\" space=\"2\" bg='amber.300' px=\"2\" justifyContent='space-between' alignItems='center'>\r\n        <Center>\r\n          <HStack >\r\n            <Image style={styles.coinbalance} source={require('../assets/images/coinbalance.png')} />\r\n            <Text bold style={styles.icon2}>{superUser(value, value.balance)}</Text>\r\n          </HStack>\r\n        </Center>\r\n      </VStack>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  icon: {\r\n    color: 'black',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n\r\n  },\r\n  gif: {\r\n    width: 80,\r\n    height: 80,\r\n    marginTop: -30,\r\n    marginLeft: -30,\r\n  },\r\n  icon2: {\r\n    color: 'black',\r\n    fontSize: 41,\r\n    paddingTop: 23,\r\n    marginTop: 6,\r\n    opacity: 0.9,\r\n    fontFamily: 'System',\r\n  },\r\n  coin: {\r\n    width: 200,\r\n    resizeMode: 'contain',\r\n    height: 50,\r\n    marginLeft: -32,\r\n  },\r\n  coingif: {\r\n    size: '100%',\r\n  },\r\n  coingif: {\r\n    width: 10,\r\n  },\r\n  coinbalance: {\r\n    zIndex: 2,\r\n    resizeMode: 'contain',\r\n    width: 210,\r\n    marginTop: -90,\r\n    marginBottom: -110,\r\n  },\r\n\r\n  image: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: '100%',\r\n    height: '100%',\r\n    resizeMode: 'cover',\r\n  },\r\n  image2: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: '100%',\r\n    height: '100%',\r\n    marginBottom: 20,\r\n    marginBottom: 5,\r\n  },\r\n  image3: {\r\n    width: 45,\r\n    resizeMode: 'contain',\r\n    marginBottom: -85,\r\n    marginTop: -90,\r\n    marginLeft: 35,\r\n  },\r\n  image4: {\r\n    width: 51,\r\n    resizeMode: 'contain',\r\n    marginBottom: -85,\r\n    marginTop: -90,\r\n    marginLeft: 10,\r\n  },\r\n\r\n  image5: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: 450,\r\n    resizeMode: 'cover',\r\n  },\r\n  title: {\r\n    width: 400,\r\n    resizeMode: 'cover',\r\n    marginTop: -100,\r\n    marginBottom: -100,\r\n    margin: -100,\r\n  },\r\n  header: {\r\n    marginTop: '15%',\r\n    marginLeft: '18%',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'flex-start',\r\n    backgroundColor: '#fff',\r\n  },\r\n  BalanceBar: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    borderTopLeftRadius: 60,\r\n    borderTopRightRadius: 60,\r\n  },\r\n  center: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  coin2: {\r\n    width: 80,\r\n    height: 50,\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}