{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Ionicons } from '@expo/vector-icons';\nimport { NativeBaseProvider, View, Stack, Box, Container, Heading, Divider, IconButton, Flex, HStack, Text, Icon, VStack, Center, StatusBar, Button, List, ListItem, Left } from 'native-base';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { style } from \"dom-helpers\";\nimport { Component, useContext, useEffect } from \"react\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport * as Notifications from \"expo-notifications\";\nimport * as Permissions from \"expo-permissions\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nNotifications.setNotificationHandler({\n  handleNotification: function handleNotification() {\n    return _regeneratorRuntime.async(function handleNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              shouldShowAlert: true\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n});\nexport default function TabOneScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUser = _useState2[1];\n\n  var isFocused = useIsFocused();\n  console.log(isFocused);\n  useEffect(function () {\n    Permissions.getAsync(Permissions.NOTIFICATIONS).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        return Permissions.askAsync(Permissions.NOTIFICATIONS);\n      }\n\n      return statusObj;\n    }).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        throw new Error(\"Permission not granted\");\n      }\n    }).catch(function (err) {\n      return null;\n    });\n\n    if (isFocused) {\n      fetch(\"https://crewcoin.herokuapp.com/crewuser/\" + value.portalId, {\n        method: \"GET\",\n        headers: {\n          authorization: \"jwt\",\n          credentials: \"same-origin\",\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res) {\n          setUser(res);\n          console.log(userData);\n          var self = res.filter(function (user) {\n            return user.username === value.username;\n          });\n          setValue(self[0]);\n          var adminEmail = res.filter(function (user) {\n            return user.admin === true;\n          });\n          setValue(_objectSpread(_objectSpread({}, value), {}, {\n            adminEmail: adminEmail.username\n          }));\n        } else {\n          Alert.alert(\"Error\", \"Please check your internet connection\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              return console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, []);\n\n  function Circulation(user) {\n    if (isFocused) {\n      var users = user;\n      console.log(users);\n      var userTotal = users.reduce(function (accumulator, current) {\n        return accumulator + current.balance;\n      }, 0);\n      var circulationTotal = userTotal - value.balance;\n      console.log(circulationTotal);\n\n      if (value.admin) {\n        return _jsxs(Text, {\n          style: {\n            fontSize: 17,\n            fontWeight: 'bold',\n            zIndex: 200000,\n            backgroundColor: '#87CEFA',\n            borderTopRightRadius: 10,\n            borderTopLeftRadius: 10,\n            borderBottomRightRadius: 10,\n            borderBottomLeftRadius: 10,\n            borderColor: \"lightgray\",\n            borderWidth: 1,\n            padding: 1,\n            width: '100%',\n            textAlign: 'center',\n            marginTop: 6,\n            marginBottom: 32,\n            padding: 5\n          },\n          children: [\"Current Crew Coins in Circulation: \", circulationTotal]\n        });\n      } else {\n        return null;\n      }\n    }\n  }\n\n  var _useContext = useContext(UserContext),\n      value = _useContext.value,\n      setValue = _useContext.setValue;\n\n  return _jsxs(NativeBaseProvider, {\n    children: [AppBar(value), _jsx(Divider, {}), _jsxs(ImageBackground, {\n      style: styles.image,\n      source: require(\"../assets/images/bgblue.png\"),\n      resizeMode: \"cover\",\n      children: [_jsx(Image, {\n        shadow: 3,\n        style: styles.topper,\n        source: require(\"../assets/images/crewcoinwhite.png\"),\n        resizeMode: \"contain\"\n      }), _jsx(Stack, {\n        shadow: 8,\n        children: _jsxs(View, {\n          shadow: 8,\n          style: styles.creditcard,\n          borderColor: \"black\",\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: value.firstname + \" \" + value.lastname\n          }), _jsx(Text, {\n            style: styles.text2,\n            children: value.organization\n          }), _jsx(Image, {\n            style: styles.creditlogo,\n            source: require(\"../assets/images/creditcardlogo.png\")\n          }), _jsx(View, {\n            children: _jsx(Image, {\n              style: styles.credit,\n              source: require(\"../assets/images/crewcoincredit.png\")\n            })\n          })]\n        })\n      }), _jsx(Center, {\n        style: {\n          marginTop: 23\n        },\n        children: _jsxs(Stack, {\n          borderColor: \"#b2c2d1\",\n          borderWidth: 1,\n          style: {\n            borderRadius: 10,\n            backgroundColor: 'rgba(255,255,255, 0.8)'\n          },\n          px: 2,\n          py: 2,\n          mt: 235,\n          mb: -3,\n          borderRadius: 5,\n          shadow: 9,\n          children: [_jsx(Divider, {}), _jsxs(Box, {\n            shadow: 3,\n            w: \"310\",\n            rounded: \"lg\",\n            borderColor: \"blueGray.400\",\n            borderWidth: \"1\",\n            _dark: {\n              borderColor: \"lightBlue.500\",\n              backgroundColor: \"lightBlue.500\"\n            },\n            _web: {\n              shadow: 2,\n              borderWidth: 0\n            },\n            _light: {\n              backgroundColor: \"lightBlue.500\"\n            },\n            children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('Send');\n              },\n              children: _jsxs(HStack, {\n                px: \"4\",\n                space: 2,\n                children: [_jsx(Ionicons, {\n                  name: \"md-arrow-redo-circle-outline\",\n                  size: 30,\n                  color: \"#292A2A\"\n                }), _jsx(Heading, {\n                  color: \"#292A2A\",\n                  size: \"lg\",\n                  mx: \"auto\",\n                  my: \"auto\",\n                  children: \"Send Crew Coins\"\n                })]\n              })\n            })]\n          }), _jsxs(Box, {\n            shadow: 3,\n            mt: 5,\n            w: \"310\",\n            rounded: \"lg\",\n            borderColor: \"blueGray.400\",\n            borderWidth: \"1\",\n            _dark: {\n              borderColor: \"blueGray.600\",\n              backgroundColor: \"blueGray.700\"\n            },\n            _web: {\n              shadow: 2,\n              borderWidth: 0\n            },\n            _light: {\n              backgroundColor: \"lightBlue.500\"\n            },\n            children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('History');\n              },\n              children: _jsxs(HStack, {\n                px: \"4\",\n                space: 2,\n                children: [_jsx(Ionicons, {\n                  name: \"md-list\",\n                  size: 30,\n                  color: \"#292A2A\"\n                }), _jsx(Heading, {\n                  color: \"#292A2A\",\n                  size: \"lg\",\n                  mx: \"auto\",\n                  my: \"auto\",\n                  children: \"Transaction History\"\n                })]\n              })\n            })]\n          }), _jsxs(Box, {\n            shadow: 3,\n            mt: 5,\n            w: \"310\",\n            rounded: \"lg\",\n            borderColor: \"blueGray.400\",\n            borderWidth: \"1\",\n            _dark: {\n              borderColor: \"lightBlue.500\",\n              backgroundColor: \"lightBlue.500\"\n            },\n            _web: {\n              shadow: 2,\n              borderWidth: 0\n            },\n            _light: {\n              backgroundColor: \"lightBlue.500\"\n            },\n            children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('Settings');\n              },\n              children: _jsxs(HStack, {\n                space: 2,\n                px: \"4\",\n                children: [_jsx(Ionicons, {\n                  name: \"md-settings-outline\",\n                  size: 30,\n                  color: \"#292A2A\"\n                }), _jsx(Heading, {\n                  color: \"#292A2A\",\n                  size: \"lg\",\n                  mx: \"auto\",\n                  my: \"auto\",\n                  children: \"Account Settings\"\n                })]\n              })\n            })]\n          })]\n        })\n      }), _jsxs(HStack, {\n        shadow: 3,\n        style: styles.button,\n        children: [_jsx(Image, {\n          style: styles.coin2,\n          source: require(\"../assets/images/coinIcon2.gif\")\n        }), _jsx(Text, {\n          shadow: 1,\n          style: {\n            color: \"#ffcc00\",\n            fontSize: 48,\n            fontWeight: \"700\",\n            paddingTop: \"35%\"\n          },\n          children: value.balance\n        })]\n      }), Circulation(userData)]\n    })]\n  });\n}\n\nfunction AppBar(value) {\n  return _jsxs(_Fragment, {\n    children: [_jsx(Box, {\n      safeAreaTop: true,\n      backgroundColor: \"#f2f2f2\"\n    }), _jsxs(HStack, {\n      bg: \"#f2f2f2\",\n      px: \"1\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [_jsx(HStack, {\n        space: \"4\",\n        alignItems: \"center\",\n        children: _jsx(Image, {\n          style: styles.coin,\n          source: require(\"../assets/images/crewcoinlogo.png\")\n        })\n      }), _jsx(HStack, {\n        space: \"4\",\n        children: _jsx(Text, {\n          px: \"1\",\n          style: styles.icon,\n          children: value.firstname + \" \" + value.lastname\n        })\n      })]\n    })]\n  });\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  topper: {\n    width: \"100%\",\n    resizeMode: 'contain',\n    position: 'absolute',\n    resizeMode: 'contain',\n    top: 0,\n    left: 0,\n    marginTop: -50\n  },\n  button: {\n    backgroundColor: '#ffcc00',\n    borderColor: \"#e6e6e6\",\n    borderWidth: 1,\n    position: 'relative',\n    backgroundColor: \"white\",\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    borderBottomRightRadius: 40,\n    borderBottomLeftRadius: 40,\n    width: \"36%\",\n    height: \"12%\",\n    resizeMode: 'contain',\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginBottom: \"1%\"\n  },\n  creditcard: {\n    marginTop: \"28%\",\n    position: 'relative',\n    width: 350,\n    resizeMode: 'contain',\n    marginBottom: \"2%\"\n  },\n  heading: {\n    color: 'black',\n    fontSize: 40,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    paddingTop: '5%'\n  },\n  gif: {\n    width: 80,\n    height: 80,\n    marginTop: -30,\n    marginLeft: -30\n  },\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  elevate: {\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 2,\n    elevation: 5,\n    borderRadius: 10,\n    height: '90%'\n  },\n  creditlogo: {\n    position: 'absolute',\n    zIndex: 1999,\n    resizeMode: 'contain',\n    height: 150,\n    top: 120,\n    left: 190\n  },\n  coinbalance: {\n    zIndex: 2,\n    resizeMode: 'contain',\n    width: 210,\n    marginTop: -90,\n    marginBottom: -110\n  },\n  text: {\n    position: 'absolute',\n    color: 'black',\n    fontSize: 22,\n    fontWeight: 'bold',\n    top: 183,\n    left: '10%',\n    opacity: 0.8,\n    zIndex: 1000\n  },\n  text2: {\n    position: 'absolute',\n    color: '#0709FE',\n    fontSize: 22,\n    fontWeight: 'bold',\n    top: 207,\n    left: '10%',\n    opacity: 0.8,\n    zIndex: 1000\n  },\n  text3: {\n    paddingTop: 30,\n    color: 'black',\n    fontSize: 50,\n    fontWeight: 'bold',\n    zIndex: 2,\n    opacity: 0.8\n  },\n  icon2: {\n    color: 'black',\n    fontSize: 42,\n    fontWeight: 'bold',\n    paddingTop: 23,\n    marginTop: 6,\n    opacity: 0.9,\n    fontFamily: 'System'\n  },\n  credit: {\n    position: 'absolute',\n    width: 350,\n    resizeMode: 'contain',\n    borderColor: \"black\",\n    zIndex: 999\n  },\n  balance: {\n    fontSize: 25,\n    width: '100%'\n  },\n  coin: {\n    width: 200,\n    resizeMode: 'contain',\n    height: 50\n  },\n  coin2: {\n    width: \"29%\",\n    height: \"80%\",\n    resizeMode: 'contain',\n    marginTop: \"6%\",\n    marginRight: \"-2%\"\n  },\n  coingif: {\n    size: '90%',\n    resizeMode: 'contain'\n  },\n  coingif: {\n    marginTop: -10,\n    marginRight: -10,\n    width: 70\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%'\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"sources":["C:/Users/DavidWIlliams/Desktop/crewCoin/screens/TabOneScreen.js"],"names":["LinearGradient","Ionicons","NativeBaseProvider","View","Stack","Box","Container","Heading","Divider","IconButton","Flex","HStack","Text","Icon","VStack","Center","StatusBar","Button","List","ListItem","Left","MaterialIcons","style","Component","useContext","useEffect","useIsFocused","useState","UserContext","TouchableOpacity","Notifications","Permissions","setNotificationHandler","handleNotification","shouldShowAlert","TabOneScreen","route","navigation","userData","setUser","isFocused","console","log","getAsync","NOTIFICATIONS","then","statusObj","status","askAsync","Error","catch","err","fetch","value","portalId","method","headers","authorization","credentials","Accept","mode","res","json","self","filter","user","username","setValue","adminEmail","admin","Alert","alert","text","onPress","Circulation","users","userTotal","reduce","accumulator","current","balance","circulationTotal","fontSize","fontWeight","zIndex","backgroundColor","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","borderColor","borderWidth","padding","width","textAlign","marginTop","marginBottom","AppBar","styles","image","require","topper","creditcard","firstname","lastname","text2","organization","creditlogo","credit","borderRadius","shadow","navigate","button","coin2","color","paddingTop","coin","icon","StyleSheet","create","container","flex","alignItems","justifyContent","resizeMode","position","top","left","height","flexDirection","heading","gif","marginLeft","elevate","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","coinbalance","opacity","text3","icon2","fontFamily","marginRight","coingif","size","header"],"mappings":"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","sourcesContent":["import { StyleSheet, Image, ImageBackground } from \"react-native\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Ionicons } from '@expo/vector-icons';\nimport { NativeBaseProvider, View, Stack, Box, Container, Heading, Divider, IconButton, Flex, HStack, Text, Icon, VStack, Center, StatusBar, Button, List, ListItem, Left, } from 'native-base';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { style } from \"dom-helpers\";\nimport { Component, useContext, useEffect } from \"react\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport * as Notifications from \"expo-notifications\"\nimport * as Permissions from \"expo-permissions\"\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => {\n    return {\n      shouldShowAlert: true,\n    }\n  },\n})\n\n\nexport default function TabOneScreen({ route, navigation }) {\n  const [userData, setUser] = useState([]);\n  const isFocused = useIsFocused();\n  console.log(isFocused);\n\n\n\n  useEffect(() => {\n\n    // Permission for iOS\n    Permissions.getAsync(Permissions.NOTIFICATIONS)\n      .then(statusObj => {\n        // Check if we already have permission\n        if (statusObj.status !== \"granted\") {\n          // If permission is not there, ask for the same\n          return Permissions.askAsync(Permissions.NOTIFICATIONS)\n        }\n        return statusObj\n      })\n      .then(statusObj => {\n        // If permission is still not given throw error\n        if (statusObj.status !== \"granted\") {\n          throw new Error(\"Permission not granted\")\n        }\n      })\n      .catch(err => {\n        return null\n      })\n\n    if (isFocused) {\n\n      fetch(`https://crewcoin.herokuapp.com/crewuser/${value.portalId}`, {\n        method: \"GET\",\n        headers: {\n          authorization: \"jwt\",\n          credentials: \"same-origin\",\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          mode: \"cors\"\n        },\n      })\n        .then(res => res.json())\n        .then(res => {\n          if (res) {\n            setUser(res);\n            console.log(userData)\n            let self = res.filter(user => user.username === value.username);\n            setValue(self[0]);\n            let adminEmail = res.filter(user => user.admin === true);\n            setValue({ ...value, adminEmail: adminEmail.username });\n          } else {\n            Alert.alert(\n              \"Error\",\n              \"Please check your internet connection\",\n              [\n\n                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n              ]\n            )\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        }\n        );\n    }\n  }, []);\n\n\n  function Circulation(user) {\n    if (isFocused) {\n      const users = user\n      console.log(users)\n      let userTotal = users.reduce((accumulator, current) => accumulator + current.balance, 0)\n      let circulationTotal = userTotal - value.balance\n      console.log(circulationTotal)\n      if (value.admin) {\n        return (\n          <Text style={{\n\n            fontSize: 17,\n            fontWeight: 'bold',\n            zIndex: 200000,\n            backgroundColor: '#87CEFA',\n            borderTopRightRadius: 10,\n            borderTopLeftRadius: 10,\n            borderBottomRightRadius: 10,\n            borderBottomLeftRadius: 10,\n            borderColor: \"lightgray\",\n            borderWidth: 1,\n            padding: 1,\n            width: '100%',\n            textAlign: 'center',\n            marginTop: 6,\n            marginBottom: 32,\n            padding: 5,\n          }}>Current Crew Coins in Circulation: {circulationTotal}</Text>\n        )\n      } else {\n        return null\n      }\n    }\n  }\n\n  const { value, setValue } = useContext(UserContext);\n  return (\n    <NativeBaseProvider>\n      {AppBar(value)}\n      <Divider />\n      <ImageBackground style={styles.image} source={require('../assets/images/bgblue.png')} resizeMode=\"cover\" >\n          <Image shadow={3} style={styles.topper} source={require('../assets/images/crewcoinwhite.png')} resizeMode=\"contain\" />\n        <Stack shadow={8}>\n          <View shadow={8} style={styles.creditcard} borderColor=\"black\" >\n            <Text style={styles.text}>{value.firstname + \" \" + value.lastname}</Text>\n            <Text style={styles.text2}>{value.organization}</Text>\n            <Image style={styles.creditlogo} source={require('../assets/images/creditcardlogo.png')} />\n            <View>\n              <Image style={styles.credit} source={require('../assets/images/crewcoincredit.png')} />\n            </View>\n          </View>\n        </Stack>\n        <Center style={{ marginTop: 23 }}>\n          <Stack borderColor=\"#b2c2d1\"\n            borderWidth={1}\n            style={{ borderRadius: 10, backgroundColor: 'rgba(255,255,255, 0.8)' }}\n            px={2}\n            py={2}\n            mt={235}\n            mb={-3}\n            borderRadius={5}\n            shadow={9}\n          >\n            <Divider />\n\n            <Box\n              shadow={3}\n              w=\"310\"\n              rounded=\"lg\"\n              borderColor=\"blueGray.400\"\n              borderWidth=\"1\"\n              _dark={{\n                borderColor: \"lightBlue.500\",\n                backgroundColor: \"lightBlue.500\",\n              }}\n              _web={{\n                shadow: 2,\n                borderWidth: 0,\n              }}\n              _light={{\n                backgroundColor: \"lightBlue.500\",\n              }}\n            >\n              <Box >\n              </Box>\n              <TouchableOpacity onPress={() => { navigation.navigate('Send') }}>\n                <HStack px=\"4\" space={2} >\n                  <Ionicons name=\"md-arrow-redo-circle-outline\" size={30} color=\"#292A2A\" />\n                  <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                    Send Crew Coins\n                  </Heading>\n                </HStack>\n              </TouchableOpacity>\n            </Box>\n            <Box\n              shadow={3}\n              mt={5}\n              w=\"310\"\n              rounded=\"lg\"\n              borderColor=\"blueGray.400\"\n              borderWidth=\"1\"\n              _dark={{\n                borderColor: \"blueGray.600\",\n                backgroundColor: \"blueGray.700\",\n              }}\n              _web={{\n                shadow: 2,\n                borderWidth: 0,\n              }}\n              _light={{\n                backgroundColor: \"lightBlue.500\",\n              }}\n            >\n              <Box >\n              </Box>\n              <TouchableOpacity onPress={() => { navigation.navigate('History') }}>\n                <HStack px=\"4\" space={2}>\n                  <Ionicons name=\"md-list\" size={30} color=\"#292A2A\" />\n                  <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                    Transaction History\n                  </Heading>\n                </HStack>\n              </TouchableOpacity>\n            </Box>\n            <Box\n              shadow={3}\n              mt={5}\n              w=\"310\"\n              rounded=\"lg\"\n              borderColor=\"blueGray.400\"\n              borderWidth=\"1\"\n              _dark={{\n                borderColor: \"lightBlue.500\",\n                backgroundColor: \"lightBlue.500\",\n              }}\n              _web={{\n                shadow: 2,\n                borderWidth: 0,\n              }}\n              _light={{\n                backgroundColor: \"lightBlue.500\",\n              }}\n            >\n              <Box>\n              </Box>\n              <TouchableOpacity onPress={() => { navigation.navigate('Settings') }}>\n                <HStack space={2} px=\"4\">\n                  <Ionicons name=\"md-settings-outline\" size={30} color=\"#292A2A\" />\n                  <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                    Account Settings\n                  </Heading>\n                </HStack>\n              </TouchableOpacity>\n            </Box>\n          </Stack>\n        </Center>\n\n\n        <HStack shadow={3} style={styles.button}>\n          <Image style={styles.coin2} source={require('../assets/images/coinIcon2.gif')} />\n          <Text shadow={1} style={{ color: \"#ffcc00\", fontSize: 48, fontWeight: \"700\", paddingTop: \"35%\", }}>{value.balance}</Text>\n        </HStack>\n        {Circulation(userData)}\n\n\n\n      </ImageBackground>\n    </NativeBaseProvider>\n  );\n}\n\nfunction AppBar(value) {\n  return (\n    <>\n      <Box safeAreaTop backgroundColor=\"#f2f2f2\" />\n\n      <HStack bg='#f2f2f2' px=\"1\" justifyContent='space-between' alignItems='center'>\n        <HStack space=\"4\" alignItems='center'>\n          <Image style={styles.coin} source={require('../assets/images/crewcoinlogo.png')} />\n        </HStack>\n        <HStack space=\"4\">\n          <Text px=\"1\" style={styles.icon}>\n            {value.firstname + \" \" + value.lastname}\n          </Text>\n        </HStack>\n      </HStack>\n\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  topper: {\n    width: \"100%\",\n    resizeMode: 'contain',\n    position: 'absolute',\n    resizeMode: 'contain',\n    top: 0,\n    left: 0,\n    marginTop: -50,\n  },\n  button: {\n    backgroundColor: '#ffcc00',\n    borderColor: \"#e6e6e6\",\n    borderWidth: 1,\n    position: 'relative',\n    backgroundColor: \"white\",\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    borderBottomRightRadius: 40,\n    borderBottomLeftRadius: 40,\n    width: \"36%\",\n    height: \"12%\",\n    resizeMode: 'contain',\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginBottom: \"1%\",\n  },\n  creditcard: {\n    marginTop: \"28%\",\n    position: 'relative',\n    width: 350,\n    resizeMode: 'contain',\n    marginBottom: \"2%\",\n\n  },\n\n  heading: {\n    color: 'black',\n    fontSize: 40,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    paddingTop: '5%',\n  },\n  gif: {\n    width: 80,\n    height: 80,\n    marginTop: -30,\n    marginLeft: -30,\n\n  },\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  elevate: {\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.5,\n    shadowRadius: 2,\n    elevation: 5,\n    borderRadius: 10,\n    height: '90%',\n\n  },\n  creditlogo: {\n    position: 'absolute',\n    zIndex: 1999,\n    resizeMode: 'contain',\n\n    height: 150,\n    top: 120,\n    left: 190,\n\n  },\n  coinbalance: {\n    zIndex: 2,\n    resizeMode: 'contain',\n    width: 210,\n    marginTop: -90,\n    marginBottom: -110,\n  },\n\n  text: {\n    position: 'absolute',\n    color: 'black',\n    fontSize: 22,\n    fontWeight: 'bold',\n    top: 183,\n    left: '10%',\n    opacity: 0.8,\n\n    zIndex: 1000,\n  },\n  text2: {\n    position: 'absolute',\n    color: '#0709FE',\n    fontSize: 22,\n    fontWeight: 'bold',\n    top: 207,\n    left: '10%',\n    opacity: 0.8,\n    zIndex: 1000,\n\n  },\n  text3: {\n    paddingTop: 30,\n    color: 'black',\n    fontSize: 50,\n    fontWeight: 'bold',\n    zIndex: 2,\n    opacity: 0.8,\n  },\n  icon2: {\n    color: 'black',\n    fontSize: 42,\n    fontWeight: 'bold',\n    paddingTop: 23,\n    marginTop: 6,\n    opacity: 0.9,\n    fontFamily: 'System',\n  },\n  credit: {\n    position: 'absolute',\n    width: 350,\n    resizeMode: 'contain',\n    borderColor: \"black\",\n    zIndex: 999,\n  },\n\n  balance: {\n    fontSize: 25,\n    width: '100%',\n  },\n  coin: {\n    width: 200,\n    resizeMode: 'contain',\n    height: 50,\n  },\n  coin2: {\n    width: \"29%\",\n    height: \"80%\",\n    resizeMode: 'contain',\n\n    marginTop: \"6%\",\n    marginRight: \"-2%\",\n  },\n  coingif: {\n    size: '90%',\n    resizeMode: 'contain',\n  },\n  coingif: {\n    marginTop: -10,\n    marginRight: -10,\n    width: 70,\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%',\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff',\n  },\n});"]},"metadata":{},"sourceType":"module"}