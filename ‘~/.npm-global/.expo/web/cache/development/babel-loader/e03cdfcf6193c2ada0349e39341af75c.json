{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Ionicons } from '@expo/vector-icons';\nimport { NativeBaseProvider, Image, View, Stack, Box, Container, Heading, Divider, IconButton, Flex, HStack, Text, Icon, VStack, Center, StatusBar, Button, List, ListItem, Left } from 'native-base';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { style } from \"dom-helpers\";\nimport { Component, useContext, useEffect } from \"react\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport * as Notifications from \"expo-notifications\";\nimport * as Permissions from \"expo-permissions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nNotifications.setNotificationHandler({\n  handleNotification: function handleNotification() {\n    return _regeneratorRuntime.async(function handleNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              shouldShowAlert: true\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n});\nexport default function TabOneScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      organization = _useState4[0],\n      setOrganization = _useState4[1];\n\n  var _useContext = useContext(UserContext),\n      value = _useContext.value,\n      setValue = _useContext.setValue;\n\n  useEffect(function () {\n    Permissions.getAsync(Permissions.NOTIFICATIONS).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        return Permissions.askAsync(Permissions.NOTIFICATIONS);\n      }\n\n      return statusObj;\n    }).then(function (statusObj) {\n      if (statusObj.status !== \"granted\") {\n        throw new Error(\"Permission not granted\");\n      }\n    }).catch(function (err) {\n      return null;\n    });\n    fetch(\"https://crewcoin.herokuapp.com/crewuser/\" + value.portalId, {\n      method: \"GET\",\n      headers: {\n        authorization: \"jwt\",\n        credentials: \"same-origin\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        mode: \"cors\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res) {\n        setUser(res);\n        var self = res.filter(function (user) {\n          return user.username === value.username;\n        });\n        setValue(self[0]);\n        var admin = res.filter(function (user) {\n          return user.admin === true;\n        });\n        setValue(_objectSpread(_objectSpread({}, value), {}, {\n          adminEmail: admin[0].username\n        }));\n        setOrganization(admin[0].organization);\n      } else {\n        Alert.alert(\"Error\", \"Please check your internet connection\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  function alertNew(user) {\n    if (user) {\n      return _jsx(Ionicons, {\n        name: \"ellipse\",\n        color: \"#ffcc00\",\n        size: 9,\n        style: {\n          top: 1,\n          right: 256,\n          position: \"absolute\"\n        }\n      });\n    } else {\n      return null;\n    }\n  }\n\n  function Circulation(user) {\n    var users = user;\n    var userTotal = users.reduce(function (accumulator, current) {\n      return accumulator + current.balance;\n    }, 0);\n    var circulationTotal = userTotal - value.balance;\n\n    if (value.admin && circulationTotal > -1) {\n      return _jsxs(Text, {\n        style: {\n          fontSize: 17,\n          fontWeight: 'bold',\n          zIndex: 200000,\n          backgroundColor: '#87CEFA',\n          borderColor: \"lightgray\",\n          borderWidth: 1,\n          padding: 1,\n          width: '100%',\n          textAlign: 'center',\n          marginTop: 2,\n          marginBottom: \"6%\",\n          padding: 5\n        },\n        children: [\"Current Crew Coins in Circulation: \", circulationTotal]\n      });\n    } else {\n      return null;\n    }\n  }\n\n  return _jsxs(NativeBaseProvider, {\n    children: [AppBar(value), _jsx(Divider, {}), _jsxs(ImageBackground, {\n      style: styles.image,\n      source: require(\"../assets/images/bgblue.png\"),\n      resizeMode: \"cover\",\n      children: [_jsxs(VStack, {\n        space: 4,\n        style: {\n          marginTop: 1\n        },\n        children: [_jsx(Stack, {\n          children: _jsx(Image, {\n            alt: \"topper\",\n            style: styles.topper,\n            source: require(\"../assets/images/crewcoinwhite.png\"),\n            resizeMode: \"contain\"\n          })\n        }), _jsxs(Center, {\n          children: [_jsxs(Box, {\n            shadow: 5,\n            height: 240,\n            width: 365,\n            rounded: \"xl\",\n            pb: 2,\n            _dark: {\n              borderColor: \"lightBlue.500\",\n              backgroundColor: \"lightBlue.500\"\n            },\n            _light: {\n              backgroundColor: \"transparent\"\n            },\n            children: [_jsx(Text, {\n              shadow: 7,\n              style: styles.text,\n              children: value.firstname + \" \" + value.lastname\n            }), _jsx(Text, {\n              shadow: 7,\n              style: styles.text2,\n              children: organization\n            }), _jsx(Image, {\n              shadow: 7,\n              style: styles.creditlogo,\n              alt: \"logo\",\n              source: require(\"../assets/images/creditcardlogo.png\")\n            }), _jsx(View, {\n              shadow: \"7\",\n              children: _jsx(Image, {\n                mt: -1,\n                borderRadius: 3,\n                style: styles.credit,\n                alt: \"creditcard\",\n                source: require(\"../assets/images/crewcoincredit.png\")\n              })\n            })]\n          }), _jsxs(Stack, {\n            borderColor: \"#b2c2d1\",\n            borderWidth: 1,\n            style: {\n              borderRadius: 10,\n              backgroundColor: 'rgba(255,255,255, 0.8)'\n            },\n            px: 2,\n            py: 2,\n            mt: 2,\n            mb: -3,\n            borderRadius: 5,\n            shadow: 9,\n            children: [_jsx(Divider, {}), _jsxs(Box, {\n              shadow: 3,\n              w: \"310\",\n              rounded: \"lg\",\n              borderColor: \"blueGray.400\",\n              borderWidth: \"1\",\n              _dark: {\n                borderColor: \"lightBlue.500\",\n                backgroundColor: \"lightBlue.500\"\n              },\n              _web: {\n                shadow: 2,\n                borderWidth: 0\n              },\n              _light: {\n                backgroundColor: \"lightBlue.500\"\n              },\n              children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate('Send');\n                },\n                children: _jsxs(HStack, {\n                  px: \"4\",\n                  space: 2,\n                  children: [_jsx(Ionicons, {\n                    name: \"md-arrow-redo-circle-outline\",\n                    size: 30,\n                    color: \"#292A2A\"\n                  }), _jsx(Heading, {\n                    color: \"#292A2A\",\n                    size: \"lg\",\n                    mx: \"auto\",\n                    my: \"auto\",\n                    children: \"Send Crew Coins\"\n                  })]\n                })\n              })]\n            }), _jsxs(Box, {\n              shadow: 3,\n              mt: 2,\n              w: \"310\",\n              rounded: \"lg\",\n              borderColor: \"blueGray.400\",\n              borderWidth: \"1\",\n              _dark: {\n                borderColor: \"blueGray.600\",\n                backgroundColor: \"blueGray.700\"\n              },\n              _web: {\n                shadow: 2,\n                borderWidth: 0\n              },\n              _light: {\n                backgroundColor: \"lightBlue.500\"\n              },\n              children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate('History');\n                },\n                children: _jsxs(HStack, {\n                  px: \"4\",\n                  space: 2,\n                  children: [_jsx(Ionicons, {\n                    name: \"md-list\",\n                    size: 30,\n                    color: \"#292A2A\"\n                  }), _jsx(Heading, {\n                    color: \"#292A2A\",\n                    size: \"lg\",\n                    mx: \"auto\",\n                    my: \"auto\",\n                    children: \"My Transactions\"\n                  }), alertNew(value.newStoreItem)]\n                })\n              })]\n            }), _jsxs(Box, {\n              shadow: 3,\n              mt: 2,\n              w: \"310\",\n              rounded: \"lg\",\n              borderColor: \"blueGray.400\",\n              borderWidth: \"1\",\n              _dark: {\n                borderColor: \"lightBlue.500\",\n                backgroundColor: \"lightBlue.500\"\n              },\n              _web: {\n                shadow: 2,\n                borderWidth: 0\n              },\n              _light: {\n                backgroundColor: \"lightBlue.500\"\n              },\n              children: [_jsx(Box, {}), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate('Settings');\n                },\n                children: _jsxs(HStack, {\n                  space: 2,\n                  px: \"4\",\n                  children: [_jsx(Ionicons, {\n                    name: \"md-settings-outline\",\n                    size: 30,\n                    color: \"#292A2A\"\n                  }), _jsx(Heading, {\n                    color: \"#292A2A\",\n                    size: \"lg\",\n                    mx: \"auto\",\n                    my: \"auto\",\n                    children: \"My Account\"\n                  })]\n                })\n              })]\n            })]\n          }), _jsxs(Stack, {\n            mt: 2,\n            children: [_jsx(Center, {\n              children: _jsx(Heading, {\n                size: \"lg\",\n                color: \"#282A3A\",\n                mt: 2,\n                children: \"Balance:\"\n              })\n            }), _jsxs(HStack, {\n              shadow: 3,\n              style: styles.button,\n              children: [_jsx(Image, {\n                alt: \"gif\",\n                style: styles.coin2,\n                source: require(\"../assets/images/coinIcon2.gif\")\n              }), _jsx(Text, {\n                shadow: 1,\n                style: {\n                  color: \"#ffcc00\",\n                  fontSize: 48,\n                  fontWeight: \"700\",\n                  paddingTop: \"20%\",\n                  paddingRight: \"2%\"\n                },\n                children: value.balance\n              })]\n            })]\n          })]\n        })]\n      }), Circulation(userData)]\n    })]\n  });\n}\n\nfunction AppBar(value) {\n  return _jsxs(_Fragment, {\n    children: [_jsx(Box, {\n      safeAreaTop: true,\n      backgroundColor: \"#f2f2f2\"\n    }), _jsxs(HStack, {\n      bg: \"#f2f2f2\",\n      px: \"5\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [_jsx(HStack, {\n        space: \"4\",\n        alignItems: \"center\",\n        children: _jsx(Image, {\n          style: styles.coin,\n          source: require(\"../assets/images/crewcoinlogo.png\")\n        })\n      }), _jsx(HStack, {\n        space: \"4\",\n        children: _jsx(Text, {\n          px: \"1\",\n          style: styles.icon,\n          children: value.firstname + \" \" + value.lastname\n        })\n      })]\n    })]\n  });\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  topper: {\n    width: 400,\n    resizeMode: 'contain',\n    position: 'relative',\n    resizeMode: 'contain',\n    marginTop: '-14%',\n    marginBottom: '-17%'\n  },\n  button: {\n    backgroundColor: '#ffcc00',\n    borderColor: \"#e6e6e6\",\n    borderWidth: 1,\n    position: 'relative',\n    backgroundColor: \"white\",\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    borderBottomRightRadius: 40,\n    borderBottomLeftRadius: 40,\n    width: \"45%\",\n    padding: 6,\n    resizeMode: 'contain',\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginBottom: \"4%\"\n  },\n  heading: {\n    color: 'black',\n    fontSize: 40,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    paddingTop: '5%'\n  },\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  creditlogo: {\n    position: 'absolute',\n    zIndex: 1999,\n    resizeMode: 'contain',\n    height: 160,\n    top: 107,\n    left: 195\n  },\n  coinbalance: {\n    zIndex: 2,\n    resizeMode: 'contain',\n    width: 210,\n    marginTop: '-5%',\n    marginBottom: \"-10%\"\n  },\n  text: {\n    position: 'absolute',\n    color: 'black',\n    fontSize: 21,\n    fontWeight: 'bold',\n    top: 165,\n    left: '9%',\n    opacity: 0.8,\n    zIndex: 1000\n  },\n  text2: {\n    position: 'absolute',\n    color: '#0709FE',\n    fontSize: 21,\n    fontWeight: 'bold',\n    top: 187,\n    left: '9%',\n    opacity: 0.8,\n    zIndex: 1000\n  },\n  text3: {\n    paddingTop: 30,\n    color: 'black',\n    fontSize: 50,\n    fontWeight: 'bold',\n    zIndex: 2,\n    opacity: 0.8\n  },\n  icon2: {\n    color: 'black',\n    fontSize: 42,\n    fontWeight: 'bold',\n    paddingTop: 23,\n    marginTop: 6,\n    opacity: 0.9,\n    fontFamily: 'System'\n  },\n  credit: {\n    position: 'relative',\n    width: 365,\n    height: 252,\n    resizeMode: 'contain',\n    backgroundColor: 'transparent'\n  },\n  balance: {\n    fontSize: 21,\n    width: '100%'\n  },\n  coin: {\n    width: 200,\n    resizeMode: 'contain',\n    height: 50,\n    marginLeft: -21\n  },\n  coin2: {\n    width: \"29%\",\n    height: \"78%\",\n    resizeMode: 'contain',\n    paddingLeft: \"5%\",\n    marginTop: \"4%\",\n    marginStart: \"-18%\"\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%'\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"sources":["C:/Users/DavidWIlliams/Desktop/crewCoin/screens/TabOneScreen.js"],"names":["LinearGradient","Ionicons","NativeBaseProvider","Image","View","Stack","Box","Container","Heading","Divider","IconButton","Flex","HStack","Text","Icon","VStack","Center","StatusBar","Button","List","ListItem","Left","MaterialIcons","style","Component","useContext","useEffect","useIsFocused","useState","UserContext","ScrollView","TouchableOpacity","Notifications","Permissions","setNotificationHandler","handleNotification","shouldShowAlert","TabOneScreen","route","navigation","userData","setUser","organization","setOrganization","value","setValue","getAsync","NOTIFICATIONS","then","statusObj","status","askAsync","Error","catch","err","fetch","portalId","method","headers","authorization","credentials","Accept","mode","res","json","self","filter","user","username","admin","adminEmail","Alert","alert","text","onPress","console","log","alertNew","top","right","position","Circulation","users","userTotal","reduce","accumulator","current","balance","circulationTotal","fontSize","fontWeight","zIndex","backgroundColor","borderColor","borderWidth","padding","width","textAlign","marginTop","marginBottom","AppBar","styles","image","require","topper","firstname","lastname","text2","creditlogo","credit","borderRadius","shadow","navigate","newStoreItem","button","coin2","color","paddingTop","paddingRight","coin","icon","StyleSheet","create","container","flex","alignItems","justifyContent","resizeMode","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","flexDirection","heading","height","left","coinbalance","opacity","text3","icon2","fontFamily","marginLeft","paddingLeft","marginStart","header"],"mappings":"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","sourcesContent":["import { StyleSheet, ImageBackground } from \"react-native\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { Ionicons } from '@expo/vector-icons';\nimport { NativeBaseProvider, Image, View, Stack, Box, Container, Heading, Divider, IconButton, Flex, HStack, Text, Icon, VStack, Center, StatusBar, Button, List, ListItem, Left, } from 'native-base';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { style } from \"dom-helpers\";\nimport { Component, useContext, useEffect } from \"react\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport * as Notifications from \"expo-notifications\"\nimport * as Permissions from \"expo-permissions\"\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => {\n    return {\n      shouldShowAlert: true,\n    }\n  },\n})\n\n\nexport default function TabOneScreen({ route, navigation }) {\n  const [userData, setUser] = useState([]);\n  const [organization, setOrganization] = useState([]);\n  const { value, setValue } = useContext(UserContext);\n\n  useEffect(() => {\n\n    // Permission for iOS\n    Permissions.getAsync(Permissions.NOTIFICATIONS)\n      .then(statusObj => {\n        // Check if we already have permission\n        if (statusObj.status !== \"granted\") {\n          // If permission is not there, ask for the same\n          return Permissions.askAsync(Permissions.NOTIFICATIONS)\n        }\n        return statusObj\n      })\n      .then(statusObj => {\n        // If permission is still not given throw error\n        if (statusObj.status !== \"granted\") {\n          throw new Error(\"Permission not granted\")\n        }\n      })\n      .catch(err => {\n        return null\n      })\n\n    fetch(`https://crewcoin.herokuapp.com/crewuser/${value.portalId}`, {\n      method: \"GET\",\n      headers: {\n        authorization: \"jwt\",\n        credentials: \"same-origin\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        mode: \"cors\"\n      },\n    })\n      .then(res => res.json())\n      .then(res => {\n        if (res) {\n          setUser(res);\n          let self = res.filter(user => user.username === value.username);\n          setValue(self[0]);\n          let admin = res.filter(user => user.admin === true);\n          setValue({ ...value, adminEmail: admin[0].username });\n          setOrganization(admin[0].organization);\n        } else {\n          Alert.alert(\n            \"Error\",\n            \"Please check your internet connection\",\n            [\n\n              { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n            ]\n          )\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      }\n      );\n  }, [])\n  //show alert for new transaction\n  function alertNew(user) {\n    if (user) {\n      return (\n        <Ionicons name=\"ellipse\" color=\"#ffcc00\" size={9} style={{ top: 1, right: 256, position: \"absolute\" }} />\n      );\n    } else {\n      return null\n    }\n  }\n  // delay for 1 second\n  function Circulation(user) {\n    const users = user\n    let userTotal = users.reduce((accumulator, current) => accumulator + current.balance, 0)\n    let circulationTotal = userTotal - value.balance\n    if (value.admin && circulationTotal > -1) {\n      return (\n        <Text style={{\n\n          fontSize: 17,\n          fontWeight: 'bold',\n          zIndex: 200000,\n          backgroundColor: '#87CEFA',\n          borderColor: \"lightgray\",\n          borderWidth: 1,\n          padding: 1,\n          width: '100%',\n          textAlign: 'center',\n          marginTop: 2,\n          marginBottom: \"6%\",\n          padding: 5,\n        }}>Current Crew Coins in Circulation: {circulationTotal}</Text>\n      )\n    } else {\n      return null\n    }\n  }\n  return (\n    <NativeBaseProvider>\n      {AppBar(value)}\n      <Divider />\n      <ImageBackground style={styles.image} source={require('../assets/images/bgblue.png')} resizeMode=\"cover\" >\n        <VStack space={4} style={{ marginTop: 1 }}>\n          <Stack>\n            <Image alt=\"topper\" style={styles.topper} source={require('../assets/images/crewcoinwhite.png')} resizeMode=\"contain\" />\n          </Stack>\n          <Center >\n\n            <Box shadow={5}\n                height={240}\n                width={365}\n                rounded=\"xl\"\n                pb={2}\n                _dark={{\n                  borderColor: \"lightBlue.500\",\n                  backgroundColor: \"lightBlue.500\",\n                }}\n                _light={{\n                  backgroundColor: \"transparent\",\n                }}\n              >\n              <Text shadow={7} style={styles.text}>{value.firstname + \" \" + value.lastname}</Text>\n              <Text shadow={7} style={styles.text2}>{organization}</Text>\n              <Image shadow={7} style={styles.creditlogo} alt=\"logo\" source={require('../assets/images/creditcardlogo.png')} />\n              <View  shadow=\"7\">\n                <Image\n                mt={-1}\n                  borderRadius={3}\n                  style={styles.credit}\n                  alt=\"creditcard\"\n                  source={require('../assets/images/crewcoincredit.png')}\n\n                />\n              </View>\n            </Box>\n\n            <Stack borderColor=\"#b2c2d1\"\n              borderWidth={1}\n              style={{ borderRadius: 10, backgroundColor: 'rgba(255,255,255, 0.8)' }}\n              px={2}\n              py={2}\n              mt={2}\n              mb={-3}\n              borderRadius={5}\n              shadow={9}\n            >\n              <Divider />\n\n              <Box\n                shadow={3}\n                w=\"310\"\n                rounded=\"lg\"\n                borderColor=\"blueGray.400\"\n                borderWidth=\"1\"\n                _dark={{\n                  borderColor: \"lightBlue.500\",\n                  backgroundColor: \"lightBlue.500\",\n                }}\n                _web={{\n                  shadow: 2,\n                  borderWidth: 0,\n                }}\n                _light={{\n                  backgroundColor: \"lightBlue.500\",\n                }}\n              >\n                <Box >\n                </Box>\n                <TouchableOpacity onPress={() => { navigation.navigate('Send') }}>\n                  <HStack px=\"4\" space={2} >\n                    <Ionicons name=\"md-arrow-redo-circle-outline\" size={30} color=\"#292A2A\" />\n                    <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                      Send Crew Coins\n                    </Heading>\n                  </HStack>\n                </TouchableOpacity>\n              </Box>\n              <Box\n                shadow={3}\n                mt={2}\n                w=\"310\"\n                rounded=\"lg\"\n                borderColor=\"blueGray.400\"\n                borderWidth=\"1\"\n                _dark={{\n                  borderColor: \"blueGray.600\",\n                  backgroundColor: \"blueGray.700\",\n                }}\n                _web={{\n                  shadow: 2,\n                  borderWidth: 0,\n                }}\n                _light={{\n                  backgroundColor: \"lightBlue.500\",\n                }}\n              >\n                <Box >\n                </Box>\n                <TouchableOpacity onPress={() => { navigation.navigate('History') }}>\n                  <HStack px=\"4\" space={2}>\n                    <Ionicons name=\"md-list\" size={30} color=\"#292A2A\" />\n                    <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                      My Transactions\n                    </Heading>\n                    {alertNew(value.newStoreItem)}\n                  </HStack>\n                </TouchableOpacity>\n              </Box>\n              <Box\n                shadow={3}\n                mt={2}\n                w=\"310\"\n                rounded=\"lg\"\n                borderColor=\"blueGray.400\"\n                borderWidth=\"1\"\n                _dark={{\n                  borderColor: \"lightBlue.500\",\n                  backgroundColor: \"lightBlue.500\",\n                }}\n                _web={{\n                  shadow: 2,\n                  borderWidth: 0,\n                }}\n                _light={{\n                  backgroundColor: \"lightBlue.500\",\n                }}\n              >\n                <Box>\n                </Box>\n                <TouchableOpacity onPress={() => { navigation.navigate('Settings') }}>\n                  <HStack space={2} px=\"4\">\n                    <Ionicons name=\"md-settings-outline\" size={30} color=\"#292A2A\" />\n                    <Heading color=\"#292A2A\" size=\"lg\" mx=\"auto\" my=\"auto\">\n                      My Account\n                    </Heading>\n                  </HStack>\n                </TouchableOpacity>\n              </Box>\n            </Stack>\n\n            <Stack mt={2}>\n              <Center>\n                <Heading size=\"lg\" color=\"#282A3A\" mt={2}>Balance:</Heading>\n              </Center>\n              <HStack shadow={3} style={styles.button}>\n                <Image alt=\"gif\" style={styles.coin2} source={require('../assets/images/coinIcon2.gif')} />\n                <Text shadow={1} style={{ color: \"#ffcc00\", fontSize: 48, fontWeight: \"700\", paddingTop: \"20%\", paddingRight:\"2%\" }}>{value.balance}</Text>\n              </HStack>\n            </Stack>\n\n          </Center>\n        </VStack>\n        {Circulation(userData)}\n      </ImageBackground>\n    </NativeBaseProvider>\n  );\n}\n\nfunction AppBar(value) {\n  return (\n    <>\n      <Box safeAreaTop backgroundColor=\"#f2f2f2\" />\n\n      <HStack bg='#f2f2f2' px=\"5\" justifyContent='space-between' alignItems='center'>\n        <HStack space=\"4\" alignItems='center'>\n          <Image style={styles.coin} source={require('../assets/images/crewcoinlogo.png')} />\n        </HStack>\n        <HStack space=\"4\">\n          <Text px=\"1\" style={styles.icon}>\n            {value.firstname + \" \" + value.lastname}\n          </Text>\n        </HStack>\n      </HStack>\n\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  \n  topper: {\n    width: 400,\n    resizeMode: 'contain',\n    position: 'relative',\n    resizeMode: 'contain',\n    marginTop: '-14%',\n    marginBottom: '-17%',\n  },\n  button: {\n    backgroundColor: '#ffcc00',\n    borderColor: \"#e6e6e6\",\n    borderWidth: 1,\n    position: 'relative',\n    backgroundColor: \"white\",\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    borderBottomRightRadius: 40,\n    borderBottomLeftRadius: 40,\n    width: \"45%\",\n    padding: 6,\n    resizeMode: 'contain',\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginBottom: \"4%\",\n  },\n\n  heading: {\n    color: 'black',\n    fontSize: 40,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    paddingTop: '5%',\n  },\n\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n\n  creditlogo: {\n    position: 'absolute',\n    zIndex: 1999,\n    resizeMode: 'contain',\n    height: 160,\n    top: 107,\n    left: 195,\n  },\n\n  coinbalance: {\n    zIndex: 2,\n    resizeMode: 'contain',\n    width: 210,\n    marginTop: '-5%',\n    marginBottom: \"-10%\",\n  },\n\n  text: {\n    position: 'absolute',\n    color: 'black',\n    fontSize: 21,\n    fontWeight: 'bold',\n    top: 165,\n    left: '9%',\n    opacity: 0.8,\n    zIndex: 1000,\n  },\n  text2: {\n    position: 'absolute',\n    color: '#0709FE',\n    fontSize: 21,\n    fontWeight: 'bold',\n    top: 187,\n    left: '9%',\n    opacity: 0.8,\n    zIndex: 1000,\n\n  },\n  text3: {\n    paddingTop: 30,\n    color: 'black',\n    fontSize: 50,\n    fontWeight: 'bold',\n    zIndex: 2,\n    opacity: 0.8,\n  },\n  icon2: {\n    color: 'black',\n    fontSize: 42,\n    fontWeight: 'bold',\n    paddingTop: 23,\n    marginTop: 6,\n    opacity: 0.9,\n    fontFamily: 'System',\n  },\n  credit: {\n    position: 'relative',\n    width: 365,\n    height: 252,\n    resizeMode: 'contain',\n    backgroundColor: 'transparent',\n  },\n\n  balance: {\n    fontSize: 21,\n    width: '100%',\n  },\n  coin: {\n    width: 200,\n    resizeMode: 'contain',\n    height: 50,\n    marginLeft: -21,\n  },\n  coin2: {\n    width: \"29%\",\n    height: \"78%\",\n    resizeMode: 'contain',\n    paddingLeft: \"5%\",\n    marginTop: \"4%\",\n    marginStart: \"-18%\",\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%',\n    height: '100%',\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}