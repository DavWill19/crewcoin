{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from \"react\";\nimport { Box, Text, Heading, VStack, FormControl, Input, Link, Button, HStack, Center, NativeBaseProvider } from \"native-base\";\nimport { useNavigation } from '@react-navigation/native';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { Component, useContext } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Signup = function Signup() {\n  var navigation = useNavigation();\n\n  var _useContext = useContext(UserContext),\n      value = _useContext.value,\n      setValue = _useContext.setValue;\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      formData = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var _React$useState3 = React.useState({}),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      user = _React$useState4[0],\n      setUser = _React$useState4[1];\n\n  return _jsx(Box, {\n    safeArea: true,\n    p: \"2\",\n    py: \"4\",\n    w: \"90%\",\n    maxW: \"290\",\n    children: _jsxs(KeyboardAvoidingView, {\n      behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n      style: styles.container,\n      children: [_jsx(Image, {\n        style: styles.title,\n        source: require(\"../assets/images/crewcoinlogo.png\")\n      }), _jsx(Heading, {\n        _dark: {\n          color: \"warmGray.200\"\n        },\n        color: \"amber.600\",\n        fontWeight: \"medium\",\n        size: \"lg\",\n        children: \"Sign up to continue!\"\n      }), _jsxs(VStack, {\n        space: 3,\n        mt: \"5\",\n        children: [_jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"First Name\"\n          }), _jsx(Input, {\n            placeholder: \"First Name\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                firstname: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Last Name\"\n          }), _jsx(Input, {\n            placeholder: \"Last Name\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                lastname: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Email ID\"\n          }), _jsx(Input, {\n            placeholder: \"Email\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                username: value.toLowerCase()\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Password\"\n          }), _jsx(Input, {\n            placeholder: \"Password\",\n            type: \"password\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                password: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Confirm Password\"\n          }), _jsx(Input, {\n            placeholder: \"Confirm Password\",\n            type: \"password\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                confirmpassword: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Phone\"\n          }), _jsx(Input, {\n            placeholder: \"Phone\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                phone: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Organization\"\n          }), _jsx(Input, {\n            placeholder: \"Organization\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                organization: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Portal ID\"\n          }), _jsx(Input, {\n            maxLength: 4,\n            placeholder: \"Portal ID\",\n            onChangeText: function onChangeText(value) {\n              return setData(_objectSpread(_objectSpread({}, formData), {}, {\n                portalId: value\n              }));\n            }\n          })]\n        }), _jsx(Button, {\n          mt: \"2\",\n          colorScheme: \"yellow\",\n          onPress: function onPress() {\n            if (formData.password === formData.confirmpassword) {\n              if (/.+@.+\\.[A-Za-z]+$/.test(formData.username)) {\n                handleSubmit(formData, navigation, setUser, setValue);\n              } else {\n                Alert.alert(\"Alert Title\", \"Please enter valid email\", [{\n                  text: \"OK\",\n                  onPress: function onPress() {\n                    return console.log(\"OK Pressed\");\n                  }\n                }]);\n              }\n            } else {\n              Alert.alert(\"Passwords do not match\", \"Please re-enter your password\", [{\n                text: \"OK\",\n                onPress: function onPress() {\n                  return console.log(\"OK Pressed\");\n                }\n              }]);\n            }\n          },\n          children: \"Sign Up!\"\n        }), _jsxs(HStack, {\n          mb: \"6\",\n          justifyContent: \"center\",\n          children: [_jsxs(Text, {\n            fontSize: \"sm\",\n            color: \"coolGray.600\",\n            _dark: {\n              color: \"warmGray.200\"\n            },\n            children: [\"I'm an administrator.\", \" \"]\n          }), _jsx(Link, {\n            _text: {\n              color: \"indigo.500\",\n              fontWeight: \"medium\",\n              fontSize: \"sm\"\n            },\n            href: \"www.crew-coin.com\",\n            children: \"Setup New Organization\"\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nfunction handleSubmit(formData, navigation, setUser, setValue) {\n  fetch(\"https://crewcoin.herokuapp.com/crewuser/signup\", {\n    method: \"POST\",\n    headers: {\n      authorization: \"jwt\",\n      credentials: \"same-origin\",\n      Accept: \"application/json, text/html, */*\",\n      \"Content-Type\": \"application/json\",\n      mode: \"cors\"\n    },\n    body: JSON.stringify({\n      \"username\": formData.username,\n      \"password\": formData.password,\n      \"firstname\": formData.firstname,\n      \"lastname\": formData.lastname,\n      \"phone\": formData.phone,\n      \"organization\": formData.organization,\n      \"portalId\": formData.portalId\n    })\n  }).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    if (res.success) {\n      setValue(res.user);\n      navigation.navigate(\"Root\");\n    } else {\n      Alert.alert(\"Error\", \"\" + res.err.message, [{\n        text: \"Cancel\",\n        onPress: function onPress() {\n          return console.log(\"Cancel Pressed\");\n        },\n        style: \"cancel\"\n      }, {\n        text: \"OK\",\n        onPress: function onPress() {\n          return console.log(\"OK Pressed\");\n        }\n      }]);\n    }\n  }).catch(function (err) {\n    console.log(err);\n    Alert.alert(\"Error\", \"Something went wrong\", [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log(\"OK Pressed\");\n      }\n    }]);\n  });\n}\n\nexport default function SignupScreen() {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(ScrollView, {\n      children: _jsx(Center, {\n        flex: 1,\n        px: \"3\",\n        children: _jsx(Signup, {})\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  title: {\n    width: 350,\n    resizeMode: 'contain',\n    marginLeft: -60,\n    marginTop: -90,\n    marginBottom: -90\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: '100%'\n  }\n});","map":{"version":3,"sources":["C:/Users/DavidWIlliams/Desktop/crewCoin/screens/SignupScreen.js"],"names":["React","Box","Text","Heading","VStack","FormControl","Input","Link","Button","HStack","Center","NativeBaseProvider","useNavigation","Component","useContext","UserContext","Signup","navigation","value","setValue","useState","formData","setData","user","setUser","Platform","OS","styles","container","title","require","color","firstname","lastname","username","toLowerCase","password","confirmpassword","phone","organization","portalId","test","handleSubmit","Alert","alert","text","onPress","console","log","fontWeight","fontSize","fetch","method","headers","authorization","credentials","Accept","mode","body","JSON","stringify","then","res","json","success","navigate","err","message","style","catch","SignupScreen","StyleSheet","create","width","resizeMode","marginLeft","marginTop","marginBottom","image","flex","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import * as React from \"react\"\r\nimport {\r\n    Box,\r\n    Text,\r\n    Heading,\r\n    VStack,\r\n    FormControl,\r\n    Input,\r\n    Link,\r\n    Button,\r\n    HStack,\r\n    Center,\r\n    NativeBaseProvider,\r\n} from \"native-base\"\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport { StyleSheet, Image, Alert, ScrollView, KeyboardAvoidingView  } from \"react-native\";\r\nimport { Component, useContext } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nexport const Signup = () => {\r\n    const navigation = useNavigation();\r\n    const { value, setValue } = useContext(UserContext);\r\n    const [formData, setData] = React.useState({});\r\n    const [user, setUser] = React.useState({});\r\n\r\n\r\n    return (\r\n        <Box safeArea p=\"2\" py=\"4\" w=\"90%\" maxW=\"290\">\r\n            <KeyboardAvoidingView\r\n                behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\r\n                style={styles.container}\r\n            >\r\n                <Image style={styles.title} source={require('../assets/images/crewcoinlogo.png')} />\r\n                <Heading\r\n\r\n                    _dark={{\r\n                        color: \"warmGray.200\",\r\n                    }}\r\n                    color=\"amber.600\"\r\n                    fontWeight=\"medium\"\r\n                    size=\"lg\"\r\n                >\r\n                    Sign up to continue!\r\n                </Heading>\r\n\r\n                <VStack space={3} mt=\"5\">\r\n                    <FormControl>\r\n                        <FormControl.Label>First Name</FormControl.Label>\r\n                        <Input placeholder=\"First Name\" onChangeText={(value) => setData({ ...formData, firstname: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Last Name</FormControl.Label>\r\n                        <Input placeholder=\"Last Name\" onChangeText={(value) => setData({ ...formData, lastname: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Email ID</FormControl.Label>\r\n                        <Input placeholder=\"Email\" onChangeText={(value) => setData({ ...formData, username: value.toLowerCase() })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Password</FormControl.Label>\r\n                        <Input placeholder=\"Password\" type=\"password\" onChangeText={(value) => setData({ ...formData, password: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Confirm Password</FormControl.Label>\r\n                        <Input placeholder=\"Confirm Password\" type=\"password\" onChangeText={(value) => setData({ ...formData, confirmpassword: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Phone</FormControl.Label>\r\n                        <Input placeholder=\"Phone\" onChangeText={(value) => setData({ ...formData, phone: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Organization</FormControl.Label>\r\n                        <Input placeholder=\"Organization\" onChangeText={(value) => setData({ ...formData, organization: value })} />\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControl.Label>Portal ID</FormControl.Label>\r\n                        <Input maxLength={4} placeholder=\"Portal ID\" onChangeText={(value) => setData({ ...formData, portalId: value })} />\r\n                    </FormControl>\r\n                    <Button mt=\"2\" colorScheme=\"yellow\"\r\n                        onPress={() => {\r\n                            if (formData.password === formData.confirmpassword) {\r\n\r\n                                if (/.+@.+\\.[A-Za-z]+$/.test(formData.username)) {\r\n                                    handleSubmit(formData, navigation, setUser, setValue);\r\n                                } else {\r\n                                    Alert.alert(\r\n                                        \"Alert Title\",\r\n                                        \"Please enter valid email\",\r\n                                        [\r\n                                            { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                                        ]\r\n                                    );\r\n                                }\r\n                            } else {\r\n                                Alert.alert(\r\n                                    \"Passwords do not match\",\r\n                                    \"Please re-enter your password\",\r\n                                    [\r\n                                        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                                    ]\r\n                                );\r\n                            }\r\n                        }\r\n                        }\r\n                    >\r\n                        Sign Up!\r\n                    </Button>\r\n                    <HStack mb=\"6\" justifyContent=\"center\">\r\n                        <Text\r\n                            fontSize=\"sm\"\r\n                            color=\"coolGray.600\"\r\n                            _dark={{\r\n                                color: \"warmGray.200\",\r\n                            }}\r\n                        >\r\n                            I'm an administrator.{\" \"}\r\n                        </Text>\r\n                        <Link\r\n                            _text={{\r\n                                color: \"indigo.500\",\r\n                                fontWeight: \"medium\",\r\n                                fontSize: \"sm\",\r\n                            }}\r\n                            href=\"www.crew-coin.com\"\r\n                        >\r\n                            Setup New Organization\r\n                        </Link>\r\n                    </HStack>\r\n                </VStack>\r\n            </KeyboardAvoidingView>\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\n\r\nfunction handleSubmit(formData, navigation, setUser, setValue) {\r\n    fetch(\"https://crewcoin.herokuapp.com/crewuser/signup\", {\r\n        method: \"POST\",\r\n        headers: {\r\n            authorization: \"jwt\",\r\n            credentials: \"same-origin\",\r\n            Accept: \"application/json, text/html, */*\",\r\n            \"Content-Type\": \"application/json\",\r\n            mode: \"cors\"\r\n        },\r\n        body: JSON.stringify({\r\n            \"username\": formData.username,\r\n            \"password\": formData.password,\r\n            \"firstname\": formData.firstname,\r\n            \"lastname\": formData.lastname,\r\n            \"phone\": formData.phone,\r\n            \"organization\": formData.organization,\r\n            \"portalId\": formData.portalId\r\n\r\n        }),\r\n    })\r\n\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            if (res.success) {\r\n                setValue(res.user);\r\n                navigation.navigate(\"Root\");\r\n            } else {\r\n                Alert.alert(\r\n                    \"Error\",\r\n                    `${res.err.message}`,\r\n                    [\r\n                        {\r\n                            text: \"Cancel\",\r\n                            onPress: () => console.log(\"Cancel Pressed\"),\r\n                            style: \"cancel\"\r\n                        },\r\n                        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                    ]\r\n                );\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            Alert.alert(\r\n                \"Error\",\r\n                \"Something went wrong\",\r\n                [\r\n\r\n                    { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                ]\r\n            )\r\n        }\r\n        );\r\n}\r\n\r\nexport default function SignupScreen() {\r\n    return (\r\n        <NativeBaseProvider>\r\n            <ScrollView>\r\n                <Center flex={1} px=\"3\">\r\n                    <Signup />\r\n                </Center>\r\n            </ScrollView>\r\n        </NativeBaseProvider>\r\n    )\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    title: {\r\n        width: 350,\r\n        resizeMode: 'contain',\r\n        marginLeft: -60,\r\n        marginTop: -90,\r\n        marginBottom: -90,\r\n\r\n    },\r\n    image: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        width: '100%',\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}