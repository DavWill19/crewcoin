{"ast":null,"code":"import StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { NativeBaseProvider, Center, Text, Box, Heading, Header, Divider, Stack, HStack, VStack, AspectRatio } from 'native-base';\nimport { Ionicons } from '@expo/vector-icons';\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport posts from \"./sample2\";\nimport { useNavigation } from '@react-navigation/native';\nimport { UserContext } from \"./UserContext\";\nimport { Component, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function HistoryScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  return _jsxs(NativeBaseProvider, {\n    children: [_jsx(AppBar, {}), _jsx(ImageBackground, {\n      imageStyle: {\n        opacity: 0.3\n      },\n      style: styles.image2,\n      source: require(\"../assets/images/splashbg2.png\"),\n      resizeMode: \"cover\",\n      children: _jsxs(ScrollView, {\n        children: [_jsx(Divider, {}), _jsx(HistoryList, {})]\n      })\n    })]\n  });\n}\n\nfunction AppBar() {\n  var navigation = useNavigation();\n  return _jsxs(_Fragment, {\n    children: [_jsx(Box, {\n      safeAreaTop: true,\n      backgroundColor: \"#f2f2f2\"\n    }), _jsxs(HStack, {\n      borderColor: \"gray.300\",\n      borderWidth: \"1\",\n      bg: \"amber.300\",\n      px: \"1\",\n      alignItems: \"center\",\n      children: [_jsx(HStack, {\n        space: \"4\",\n        alignItems: \"center\",\n        children: _jsx(Ionicons, {\n          name: \"md-chevron-back-sharp\",\n          size: 24,\n          color: \"black\",\n          onPress: function onPress() {\n            navigation.navigate('Root');\n          }\n        })\n      }), _jsx(HStack, {\n        bg: \"amber.300\",\n        py: \"2\",\n        px: \"1\",\n        children: _jsx(Center, {\n          children: _jsx(Heading, {\n            size: \"lg\",\n            color: \"black\",\n            children: \"History\"\n          })\n        })\n      })]\n    })]\n  });\n}\n\nexport var HistoryList = function HistoryList() {\n  var _useContext = useContext(UserContext),\n      value = _useContext.value,\n      setValue = _useContext.setValue;\n\n  useEffect(function () {\n    console.log(\"fetch\");\n    fetch(\"https://crewcoin.herokuapp.com/crewuser/\" + value.portalId, {\n      method: \"GET\",\n      headers: {\n        authorization: \"jwt\",\n        credentials: \"same-origin\",\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        mode: \"cors\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res) {\n        var self = res.filter(function (user) {\n          return user.username === value.username;\n        });\n        setValue(self[0]);\n      } else {\n        Alert.alert(\"Error\", \"Please check your internet connection\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }]);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  var history = value.history.sort(function (a, b) {\n    return new Date(b.date) - new Date(a.date);\n  });\n  return history.map(function (posts) {\n    return _jsxs(Box, {\n      shadow: 2,\n      mt: \"2\",\n      mb: \"2\",\n      maxW: \"100%\",\n      rounded: \"lg\",\n      overflow: \"hidden\",\n      borderColor: \"gray.300\",\n      borderWidth: \"1\",\n      _dark: {\n        borderColor: \"gray.900\",\n        backgroundColor: \"gray.900\"\n      },\n      _web: {\n        shadow: 2,\n        borderWidth: 0\n      },\n      _light: {\n        backgroundColor: \"white\"\n      },\n      children: [\"   \", _jsx(Center, {\n        children: _jsxs(Stack, {\n          w: \"350\",\n          p: \"2\",\n          mx: \"3\",\n          space: 3,\n          maxW: \"95%\",\n          children: [_jsx(Stack, {\n            maxW: \"95%\",\n            space: 2,\n            children: _jsxs(Center, {\n              children: [_jsx(Text, {\n                italic: \"true\",\n                mt: \"-3\",\n                color: \"gray.900\",\n                _dark: {\n                  color: \"warmGray.200\"\n                },\n                fontWeight: \"500\",\n                fontSize: 20,\n                bold: \"true\",\n                textAlign: \"center\",\n                children: posts.action + \" \" + posts.amount + \" Crew Coins \" + posts.who\n              }), _jsx(Divider, {\n                color: \"amber.600\"\n              })]\n            })\n          }), _jsx(Stack, {\n            maxW: \"95%\",\n            children: _jsxs(VStack, {\n              width: \"100%\",\n              children: [_jsxs(Center, {\n                children: [_jsx(Text, {\n                  italic: \"true\",\n                  mt: \"-3\",\n                  color: \"gray.900\",\n                  _dark: {\n                    color: \"warmGray.200\"\n                  },\n                  fontWeight: \"500\",\n                  fontSize: \"md\",\n                  children: \"Comments:\"\n                }), _jsxs(Text, {\n                  textAlign: \"center\",\n                  color: \"gray.900\",\n                  _dark: {\n                    color: \"warmGray.200\"\n                  },\n                  fontWeight: \"400\",\n                  fontSize: \"lg\",\n                  italic: \"true\",\n                  bold: \"true\",\n                  children: [\"\\\"\", \"\" + posts.comments, \"\\\"\"]\n                })]\n              }), _jsx(Divider, {}), _jsx(Center, {\n                children: _jsxs(HStack, {\n                  children: [_jsx(Image, {\n                    style: styles.coin,\n                    source: require(\"../assets/images/coinIcon2.gif\")\n                  }), _jsxs(Heading, {\n                    mt: \"2\",\n                    color: \"yellow.600\",\n                    _dark: {\n                      color: \"warmGray.200\"\n                    },\n                    fontWeight: \"600\",\n                    fontSize: \"md\",\n                    children: [\"Posted: \", moment(posts.date).format(\"MM/DD/YYYY h:mma\")]\n                  })]\n                })\n              })]\n            })\n          })]\n        })\n      })]\n    });\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  icon: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  balance: {\n    fontSize: 25,\n    width: '100%'\n  },\n  coin: {\n    width: 40,\n    resizeMode: 'contain',\n    height: 25,\n    marginTop: 5\n  },\n  coingif: {\n    size: '100%'\n  },\n  coingif: {\n    width: 10\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: 'gray'\n  },\n  image2: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  title: {\n    width: 400,\n    resizeMode: 'cover',\n    marginTop: -100,\n    marginBottom: -100,\n    margin: -100\n  },\n  header: {\n    marginTop: '15%',\n    marginLeft: '18%',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: '#fff'\n  },\n  center: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/DavidWIlliams/Desktop/crewCoin/screens/HistoryScreen.js"],"names":["NativeBaseProvider","Center","Text","Box","Heading","Header","Divider","Stack","HStack","VStack","AspectRatio","Ionicons","ScrollView","posts","useNavigation","UserContext","Component","useContext","useEffect","moment","HistoryScreen","route","navigation","opacity","styles","image2","require","AppBar","navigate","HistoryList","value","setValue","console","log","fetch","portalId","method","headers","authorization","credentials","Accept","mode","then","res","json","self","filter","user","username","Alert","alert","text","onPress","catch","err","history","sort","a","b","Date","date","map","borderColor","backgroundColor","shadow","borderWidth","color","action","amount","who","comments","coin","format","StyleSheet","create","container","flex","alignItems","justifyContent","icon","fontSize","fontWeight","balance","width","resizeMode","height","marginTop","coingif","size","image","title","marginBottom","margin","header","marginLeft","center"],"mappings":";;;AACA,SAASA,kBAAT,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2CC,GAA3C,EAAgDC,OAAhD,EAAyDC,MAAzD,EAAiEC,OAAjE,EAA0EC,KAA1E,EAAiFC,MAAjF,EAAyFC,MAAzF,EAAiGC,WAAjG,QAAoH,aAApH;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,KAAP;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,WAAT;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;;AAEA,eAAe,SAASC,aAAT,OAA8C;AAAA,MAArBC,KAAqB,QAArBA,KAAqB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AACzD,SACI,MAAC,kBAAD;AAAA,eACI,KAAC,MAAD,KADJ,EAEI,KAAC,eAAD;AAAiB,MAAA,UAAU,EACtB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OADL;AACuB,MAAA,KAAK,EAAEC,MAAM,CAACC,MADrC;AAC6C,MAAA,MAAM,EAAEC,OAAO,kCAD5D;AACgG,MAAA,UAAU,EAAC,OAD3G;AAAA,gBAEI,MAAC,UAAD;AAAA,mBAEI,KAAC,OAAD,KAFJ,EAII,KAAC,WAAD,KAJJ;AAAA;AAFJ,MAFJ;AAAA,IADJ;AAiBH;;AAED,SAASC,MAAT,GAAkB;AACd,MAAML,UAAU,GAAGR,aAAa,EAAhC;AACA,SACI;AAAA,eACI,KAAC,GAAD;AAAK,MAAA,WAAW,MAAhB;AAAiB,MAAA,eAAe,EAAC;AAAjC,MADJ,EAEI,MAAC,MAAD;AAAQ,MAAA,WAAW,EAAC,UAApB;AACI,MAAA,WAAW,EAAC,GADhB;AACoB,MAAA,EAAE,EAAC,WADvB;AACmC,MAAA,EAAE,EAAC,GADtC;AAC0C,MAAA,UAAU,EAAC,QADrD;AAAA,iBAEI,KAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,GAAd;AAAkB,QAAA,UAAU,EAAC,QAA7B;AAAA,kBACI,KAAC,QAAD;AAAU,UAAA,IAAI,EAAC,uBAAf;AAAuC,UAAA,IAAI,EAAE,EAA7C;AAAiD,UAAA,KAAK,EAAC,OAAvD;AAA+D,UAAA,OAAO,EAAE,mBAAM;AAAEQ,YAAAA,UAAU,CAACM,QAAX,CAAoB,MAApB;AAA8B;AAA9G;AADJ,QAFJ,EAOI,KAAC,MAAD;AAAQ,QAAA,EAAE,EAAC,WAAX;AAAuB,QAAA,EAAE,EAAC,GAA1B;AAA8B,QAAA,EAAE,EAAC,GAAjC;AAAA,kBACI,KAAC,MAAD;AAAA,oBAAQ,KAAC,OAAD;AAAS,YAAA,IAAI,EAAC,IAAd;AAAmB,YAAA,KAAK,EAAC,OAAzB;AAAA;AAAA;AAAR;AADJ,QAPJ;AAAA,MAFJ;AAAA,IADJ;AAgBH;;AAED,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7B,oBAA4BZ,UAAU,CAACF,WAAD,CAAtC;AAAA,MAAQe,KAAR,eAAQA,KAAR;AAAA,MAAeC,QAAf,eAAeA,QAAf;;AACIb,EAAAA,SAAS,CAAC,YAAM;AACZc,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAC,IAAAA,KAAK,8CAA4CJ,KAAK,CAACK,QAAlD,EAA8D;AAC/DC,MAAAA,MAAM,EAAE,KADuD;AAE/DC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,KADV;AAELC,QAAAA,WAAW,EAAE,aAFR;AAGLC,QAAAA,MAAM,EAAE,kBAHH;AAIL,wBAAgB,kBAJX;AAKLC,QAAAA,IAAI,EAAE;AALD;AAFsD,KAA9D,CAAL,CAUKC,IAVL,CAUU,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAVb,EAWKF,IAXL,CAWU,UAAAC,GAAG,EAAI;AACT,UAAIA,GAAJ,EAAS;AACL,YAAIE,IAAI,GAAGF,GAAG,CAACG,MAAJ,CAAW,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACC,QAAL,KAAkBlB,KAAK,CAACkB,QAA5B;AAAA,SAAf,CAAX;AACAjB,QAAAA,QAAQ,CAACc,IAAI,CAAC,CAAD,CAAL,CAAR;AACH,OAHD,MAGO;AACHI,QAAAA,KAAK,CAACC,KAAN,CACI,OADJ,EAEI,uCAFJ,EAGI,CAEI;AAAEC,UAAAA,IAAI,EAAE,IAAR;AAAcC,UAAAA,OAAO,EAAE;AAAA,mBAAMpB,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AAAA;AAAvB,SAFJ,CAHJ;AAQH;AACJ,KAzBL,EA0BKoB,KA1BL,CA0BW,UAAAC,GAAG,EAAI;AACVtB,MAAAA,OAAO,CAACC,GAAR,CAAYqB,GAAZ;AACH,KA5BL;AA8BH,GAhCQ,EAgCN,EAhCM,CAAT;AAmCJ,MAAMC,OAAO,GAAGzB,KAAK,CAACyB,OAAN,CAAcC,IAAd,CAAmB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAG/C,WAAO,IAAIC,IAAJ,CAASD,CAAC,CAACE,IAAX,IAAmB,IAAID,IAAJ,CAASF,CAAC,CAACG,IAAX,CAA1B;AACH,GAJe,CAAhB;AAKA,SACIL,OAAO,CAACM,GAAR,CAAY,UAAAhD,KAAK,EAAI;AACjB,WACI,MAAC,GAAD;AACI,MAAA,MAAM,EAAE,CADZ;AAEI,MAAA,EAAE,EAAC,GAFP;AAGI,MAAA,EAAE,EAAC,GAHP;AAKI,MAAA,IAAI,EAAC,MALT;AAMI,MAAA,OAAO,EAAC,IANZ;AAOI,MAAA,QAAQ,EAAC,QAPb;AAQI,MAAA,WAAW,EAAC,UARhB;AASI,MAAA,WAAW,EAAC,GAThB;AAUI,MAAA,KAAK,EAAE;AACHiD,QAAAA,WAAW,EAAE,UADV;AAEHC,QAAAA,eAAe,EAAE;AAFd,OAVX;AAcI,MAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,CADN;AAEFC,QAAAA,WAAW,EAAE;AAFX,OAdV;AAkBI,MAAA,MAAM,EAAE;AACJF,QAAAA,eAAe,EAAE;AADb,OAlBZ;AAAA,wBAqBI,KAAC,MAAD;AAAA,kBACI,MAAC,KAAD;AAAO,UAAA,CAAC,EAAC,KAAT;AAAe,UAAA,CAAC,EAAC,GAAjB;AAAqB,UAAA,EAAE,EAAC,GAAxB;AAA4B,UAAA,KAAK,EAAE,CAAnC;AAAsC,UAAA,IAAI,EAAC,KAA3C;AAAA,qBACI,KAAC,KAAD;AAAO,YAAA,IAAI,EAAC,KAAZ;AAAkB,YAAA,KAAK,EAAE,CAAzB;AAAA,sBACI,MAAC,MAAD;AAAA,yBACI,KAAC,IAAD;AACI,gBAAA,MAAM,EAAC,MADX;AAEQ,gBAAA,EAAE,EAAC,IAFX;AAGQ,gBAAA,KAAK,EAAC,UAHd;AAIQ,gBAAA,KAAK,EAAE;AACHG,kBAAAA,KAAK,EAAE;AADJ,iBAJf;AAOQ,gBAAA,UAAU,EAAC,KAPnB;AAQQ,gBAAA,QAAQ,EAAE,EARlB;AASQ,gBAAA,IAAI,EAAC,MATb;AAUQ,gBAAA,SAAS,EAAC,QAVlB;AAAA,0BAaQrD,KAAK,CAACsD,MAbd,SAawBtD,KAAK,CAACuD,MAb9B,oBAamDvD,KAAK,CAACwD;AAbzD,gBADJ,EAgBI,KAAC,OAAD;AAAS,gBAAA,KAAK,EAAC;AAAf,gBAhBJ;AAAA;AADJ,YADJ,EAqBI,KAAC,KAAD;AAAQ,YAAA,IAAI,EAAC,KAAb;AAAA,sBACI,MAAC,MAAD;AAAQ,cAAA,KAAK,EAAC,MAAd;AAAA,yBACI,MAAC,MAAD;AAAA,2BACI,KAAC,IAAD;AACI,kBAAA,MAAM,EAAC,MADX;AAEI,kBAAA,EAAE,EAAC,IAFP;AAGI,kBAAA,KAAK,EAAC,UAHV;AAII,kBAAA,KAAK,EAAE;AACHH,oBAAAA,KAAK,EAAE;AADJ,mBAJX;AAOI,kBAAA,UAAU,EAAC,KAPf;AAQI,kBAAA,QAAQ,EAAC,IARb;AAAA;AAAA,kBADJ,EAaI,MAAC,IAAD;AACI,kBAAA,SAAS,EAAC,QADd;AAEI,kBAAA,KAAK,EAAC,UAFV;AAGI,kBAAA,KAAK,EAAE;AACHA,oBAAAA,KAAK,EAAE;AADJ,mBAHX;AAMI,kBAAA,UAAU,EAAC,KANf;AAOI,kBAAA,QAAQ,EAAC,IAPb;AAQI,kBAAA,MAAM,EAAC,MARX;AASI,kBAAA,IAAI,EAAC,MATT;AAAA,wCAWSrD,KAAK,CAACyD,QAXf;AAAA,kBAbJ;AAAA,gBADJ,EA4BI,KAAC,OAAD,KA5BJ,EA6BI,KAAC,MAAD;AAAA,0BACI,MAAC,MAAD;AAAA,6BACI,KAAC,KAAD;AAAO,oBAAA,KAAK,EAAE9C,MAAM,CAAC+C,IAArB;AAA2B,oBAAA,MAAM,EAAE7C,OAAO;AAA1C,oBADJ,EAEI,MAAC,OAAD;AACI,oBAAA,EAAE,EAAC,GADP;AAEI,oBAAA,KAAK,EAAC,YAFV;AAGI,oBAAA,KAAK,EAAE;AACHwC,sBAAAA,KAAK,EAAE;AADJ,qBAHX;AAMI,oBAAA,UAAU,EAAC,KANf;AAOI,oBAAA,QAAQ,EAAC,IAPb;AAAA,2CASa/C,MAAM,CAACN,KAAK,CAAC+C,IAAP,CAAN,CAAmBY,MAAnB,CAA0B,kBAA1B,CATb;AAAA,oBAFJ;AAAA;AADJ,gBA7BJ;AAAA;AADJ,YArBJ;AAAA;AADJ,QArBJ;AAAA,MADJ;AAiGH,GAlGD,CADJ;AAqGH,CA/IM;AAkJP,IAAMhD,MAAM,GAAGiD,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,UAAU,EAAE,QAFL;AAGPC,IAAAA,cAAc,EAAE;AAHT,GADkB;AAM7BC,EAAAA,IAAI,EAAE;AACFb,IAAAA,KAAK,EAAE,OADL;AAEFc,IAAAA,QAAQ,EAAE,EAFR;AAGFC,IAAAA,UAAU,EAAE;AAHV,GANuB;AAa7BC,EAAAA,OAAO,EAAE;AACLF,IAAAA,QAAQ,EAAE,EADL;AAELG,IAAAA,KAAK,EAAE;AAFF,GAboB;AAiB7BZ,EAAAA,IAAI,EAAE;AACFY,IAAAA,KAAK,EAAE,EADL;AAEFC,IAAAA,UAAU,EAAE,SAFV;AAGFC,IAAAA,MAAM,EAAE,EAHN;AAIFC,IAAAA,SAAS,EAAE;AAJT,GAjBuB;AAuB7BC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE;AADD,GAvBoB;AA0B7BD,EAAAA,OAAO,EAAE;AACLJ,IAAAA,KAAK,EAAE;AADF,GA1BoB;AA6B7BM,EAAAA,KAAK,EAAE;AACHb,IAAAA,IAAI,EAAE,CADH;AAEHE,IAAAA,cAAc,EAAE,QAFb;AAGHD,IAAAA,UAAU,EAAE,QAHT;AAIHd,IAAAA,eAAe,EAAE;AAJd,GA7BsB;AAmC7BtC,EAAAA,MAAM,EAAE;AACJmD,IAAAA,IAAI,EAAE,CADF;AAEJE,IAAAA,cAAc,EAAE,QAFZ;AAGJD,IAAAA,UAAU,EAAE;AAHR,GAnCqB;AAwC7Ba,EAAAA,KAAK,EAAE;AACHP,IAAAA,KAAK,EAAE,GADJ;AAEHC,IAAAA,UAAU,EAAE,OAFT;AAGHE,IAAAA,SAAS,EAAE,CAAC,GAHT;AAIHK,IAAAA,YAAY,EAAE,CAAC,GAJZ;AAKHC,IAAAA,MAAM,EAAE,CAAC;AALN,GAxCsB;AA+C7BC,EAAAA,MAAM,EAAE;AACJP,IAAAA,SAAS,EAAE,KADP;AAEJQ,IAAAA,UAAU,EAAE,KAFR;AAGJhB,IAAAA,cAAc,EAAE,YAHZ;AAIJD,IAAAA,UAAU,EAAE,YAJR;AAKJd,IAAAA,eAAe,EAAE;AALb,GA/CqB;AAsD7BgC,EAAAA,MAAM,EAAE;AACJnB,IAAAA,IAAI,EAAE,CADF;AAEJE,IAAAA,cAAc,EAAE,QAFZ;AAGJD,IAAAA,UAAU,EAAE;AAHR;AAtDqB,CAAlB,CAAf","sourcesContent":["import { StyleSheet, ImageBackground, Image } from \"react-native\";\r\nimport { NativeBaseProvider, Center, Text, Box, Heading, Header, Divider, Stack, HStack, VStack, AspectRatio } from 'native-base';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport posts from './sample2';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { UserContext } from \"./UserContext\";\r\nimport { Component, useContext, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport default function HistoryScreen({ route, navigation }) {\r\n    return (\r\n        <NativeBaseProvider>\r\n            <AppBar />\r\n            <ImageBackground imageStyle=\r\n                {{ opacity: 0.3 }} style={styles.image2} source={require('../assets/images/splashbg2.png')} resizeMode=\"cover\" >\r\n                <ScrollView>\r\n\r\n                    <Divider />\r\n\r\n                    <HistoryList />\r\n\r\n\r\n                </ScrollView>\r\n\r\n            </ImageBackground>\r\n        </NativeBaseProvider>\r\n    );\r\n}\r\n\r\nfunction AppBar() {\r\n    const navigation = useNavigation();\r\n    return (\r\n        <>\r\n            <Box safeAreaTop backgroundColor=\"#f2f2f2\" />\r\n            <HStack borderColor=\"gray.300\"\r\n                borderWidth=\"1\" bg='amber.300' px=\"1\" alignItems='center'>\r\n                <HStack space=\"4\" alignItems='center'>\r\n                    <Ionicons name=\"md-chevron-back-sharp\" size={24} color=\"black\" onPress={() => { navigation.navigate('Root'); }} />\r\n                </HStack>\r\n\r\n\r\n                <HStack bg='amber.300' py=\"2\" px=\"1\">\r\n                    <Center><Heading size=\"lg\" color=\"black\">History</Heading></Center>\r\n                </HStack>\r\n            </HStack>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const HistoryList = () => {\r\n    const { value, setValue } = useContext(UserContext);\r\n        useEffect(() => {\r\n            console.log(\"fetch\")\r\n            fetch(`https://crewcoin.herokuapp.com/crewuser/${value.portalId}`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    authorization: \"jwt\",\r\n                    credentials: \"same-origin\",\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    mode: \"cors\"\r\n                },\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    if (res) {\r\n                        let self = res.filter(user => user.username === value.username);\r\n                        setValue(self[0]);\r\n                    } else {\r\n                        Alert.alert(\r\n                            \"Error\",\r\n                            \"Please check your internet connection\",\r\n                            [\r\n    \r\n                                { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\r\n                            ]\r\n                        )\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                }\r\n                );\r\n        }, []);\r\n\r\n    \r\n    const history = value.history.sort(function (a, b) {\r\n        // Turn your strings into dates, and then subtract them\r\n        // to get a value that is either negative, positive, or zero.\r\n        return new Date(b.date) - new Date(a.date);\r\n    });\r\n    return (\r\n        history.map(posts => {\r\n            return (\r\n                <Box\r\n                    shadow={2}\r\n                    mt=\"2\"\r\n                    mb=\"2\"\r\n\r\n                    maxW=\"100%\"\r\n                    rounded=\"lg\"\r\n                    overflow=\"hidden\"\r\n                    borderColor=\"gray.300\"\r\n                    borderWidth=\"1\"\r\n                    _dark={{\r\n                        borderColor: \"gray.900\",\r\n                        backgroundColor: \"gray.900\",\r\n                    }}\r\n                    _web={{\r\n                        shadow: 2,\r\n                        borderWidth: 0,\r\n                    }}\r\n                    _light={{\r\n                        backgroundColor: \"white\",\r\n                    }}\r\n                >   <Center>\r\n                        <Stack w=\"350\" p=\"2\" mx=\"3\" space={3} maxW=\"95%\">\r\n                            <Stack maxW=\"95%\" space={2}>\r\n                                <Center>\r\n                                    <Text\r\n                                        italic=\"true\"\r\n                                            mt=\"-3\"\r\n                                            color=\"gray.900\"\r\n                                            _dark={{\r\n                                                color: \"warmGray.200\",\r\n                                            }}\r\n                                            fontWeight=\"500\"\r\n                                            fontSize={20}\r\n                                            bold=\"true\"\r\n                                            textAlign=\"center\"\r\n                                           \r\n                                    >\r\n                                        {`${posts.action} ${posts.amount} Crew Coins ${posts.who}`}\r\n                                    </Text>\r\n                                    <Divider color=\"amber.600\" />\r\n                                </Center>\r\n                            </Stack>\r\n                            <Stack  maxW=\"95%\">\r\n                                <VStack width=\"100%\">\r\n                                    <Center>\r\n                                        <Text\r\n                                            italic=\"true\"\r\n                                            mt=\"-3\"\r\n                                            color=\"gray.900\"\r\n                                            _dark={{\r\n                                                color: \"warmGray.200\",\r\n                                            }}\r\n                                            fontWeight=\"500\"\r\n                                            fontSize=\"md\"\r\n                                        >\r\n                                            Comments:\r\n                                        </Text>\r\n                                        <Text\r\n                                            textAlign=\"center\"\r\n                                            color=\"gray.900\"\r\n                                            _dark={{\r\n                                                color: \"warmGray.200\",\r\n                                            }}\r\n                                            fontWeight=\"400\"\r\n                                            fontSize=\"lg\"\r\n                                            italic=\"true\"\r\n                                            bold=\"true\"\r\n                                        >\r\n                                            \"{`${posts.comments}`}\"\r\n                                        </Text>\r\n                                    </Center>\r\n                                    <Divider />\r\n                                    <Center>\r\n                                        <HStack>\r\n                                            <Image style={styles.coin} source={require('../assets/images/coinIcon2.gif')} />\r\n                                            <Heading\r\n                                                mt=\"2\"\r\n                                                color=\"yellow.600\"\r\n                                                _dark={{\r\n                                                    color: \"warmGray.200\",\r\n                                                }}\r\n                                                fontWeight=\"600\"\r\n                                                fontSize=\"md\"\r\n                                            >\r\n                                                Posted: {moment(posts.date).format(\"MM/DD/YYYY h:mma\")}\r\n                                            </Heading>\r\n\r\n                                        </HStack>\r\n                                    </Center>\r\n                                </VStack>\r\n                            </Stack>\r\n                        </Stack>\r\n                    </Center>\r\n                </Box>\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    icon: {\r\n        color: 'black',\r\n        fontSize: 16,\r\n        fontWeight: 'bold',\r\n\r\n\r\n    },\r\n    balance: {\r\n        fontSize: 25,\r\n        width: '100%',\r\n    },\r\n    coin: {\r\n        width: 40,\r\n        resizeMode: 'contain',\r\n        height: 25,\r\n        marginTop: 5,\r\n    },\r\n    coingif: {\r\n        size: '100%',\r\n    },\r\n    coingif: {\r\n        width: 10,\r\n    },\r\n    image: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        backgroundColor: 'gray',\r\n    },\r\n    image2: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n    title: {\r\n        width: 400,\r\n        resizeMode: 'cover',\r\n        marginTop: -100,\r\n        marginBottom: -100,\r\n        margin: -100,\r\n    },\r\n    header: {\r\n        marginTop: '15%',\r\n        marginLeft: '18%',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'flex-start',\r\n        backgroundColor: '#fff',\r\n    },\r\n    center: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}